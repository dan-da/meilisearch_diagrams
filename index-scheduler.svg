<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.38.0 (20140413.2041)
 -->
<!-- Title: ml Pages: 1 -->
<svg width="6241pt" height="2602pt"
 viewBox="0.00 0.00 6240.50 2602.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 2598)">
<title>ml</title>
<polygon fill="white" stroke="none" points="-4,4 -4,-2598 6236.5,-2598 6236.5,4 -4,4"/>
<!-- ndQuery -->
<g id="node1" class="node"><title>ndQuery</title>
<g id="a_node1_0"><a xlink:href="https://github.com/meilisearch/meilisearch//blob/master/src/lib.rs#:~:text=struct%20Query" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="9.5,-1451 9.5,-1488 344.5,-1488 344.5,-1451 9.5,-1451"/>
<polygon fill="none" stroke="black" points="9.5,-1451 9.5,-1488 344.5,-1488 344.5,-1451 9.5,-1451"/>
<text text-anchor="start" x="155.5" y="-1466.8" font-family="Arial" font-weight="bold" font-size="14.00">Query</text>
<polygon fill="white" stroke="none" points="9.5,-1234 9.5,-1451 344.5,-1451 344.5,-1234 9.5,-1234"/>
<polygon fill="none" stroke="black" points="9.5,-1234 9.5,-1451 344.5,-1451 344.5,-1234 9.5,-1234"/>
<text text-anchor="start" x="20.5" y="-1428.8" font-family="Arial" font-size="14.00">+ limit: Option&lt;u32&gt;</text>
<text text-anchor="start" x="20.5" y="-1413.8" font-family="Arial" font-size="14.00">+ from: Option&lt;u32&gt;</text>
<text text-anchor="start" x="20.5" y="-1398.8" font-family="Arial" font-size="14.00">+ statuses: Option&lt;Vec&lt;Status&gt;&gt;</text>
<text text-anchor="start" x="20.5" y="-1383.8" font-family="Arial" font-size="14.00">+ types: Option&lt;Vec&lt;Kind&gt;&gt;</text>
<text text-anchor="start" x="20.5" y="-1368.8" font-family="Arial" font-size="14.00">+ index_uids: Option&lt;Vec&lt;String&gt;&gt;</text>
<text text-anchor="start" x="20.5" y="-1353.8" font-family="Arial" font-size="14.00">+ uids: Option&lt;Vec&lt;TaskId&gt;&gt;</text>
<text text-anchor="start" x="20.5" y="-1338.8" font-family="Arial" font-size="14.00">+ canceled_by: Option&lt;Vec&lt;TaskId&gt;&gt;</text>
<text text-anchor="start" x="20.5" y="-1323.8" font-family="Arial" font-size="14.00">+ before_enqueued_at: Option&lt;OffsetDateTime&gt;</text>
<text text-anchor="start" x="20.5" y="-1308.8" font-family="Arial" font-size="14.00">+ after_enqueued_at: Option&lt;OffsetDateTime&gt;</text>
<text text-anchor="start" x="20.5" y="-1293.8" font-family="Arial" font-size="14.00">+ before_started_at: Option&lt;OffsetDateTime&gt;</text>
<text text-anchor="start" x="20.5" y="-1278.8" font-family="Arial" font-size="14.00">+ after_started_at: Option&lt;OffsetDateTime&gt;</text>
<text text-anchor="start" x="20.5" y="-1263.8" font-family="Arial" font-size="14.00">+ before_finished_at: Option&lt;OffsetDateTime&gt;</text>
<text text-anchor="start" x="20.5" y="-1248.8" font-family="Arial" font-size="14.00">+ after_finished_at: Option&lt;OffsetDateTime&gt;</text>
<polygon fill="white" stroke="none" points="9.5,-1182 9.5,-1234 344.5,-1234 344.5,-1182 9.5,-1182"/>
<polygon fill="none" stroke="black" points="9.5,-1182 9.5,-1234 344.5,-1234 344.5,-1182 9.5,-1182"/>
<text text-anchor="start" x="20.5" y="-1211.8" font-family="Arial" font-size="14.00">&#45; is_empty(&amp;self) &#45;&gt; bool</text>
<text text-anchor="start" x="20.5" y="-1196.8" font-family="Arial" font-size="14.00">&#45; with_index(self, index_uid: String) &#45;&gt; Self</text>
<polygon fill="none" stroke="black" points="8,-1181 8,-1489 345,-1489 345,-1181 8,-1181"/>
</a>
</g>
</g>
<!-- ndIndexScheduler -->
<g id="node6" class="node"><title>ndIndexScheduler</title>
<g id="a_node6_1"><a xlink:href="https://github.com/meilisearch/meilisearch//blob/master/src/lib.rs#:~:text=struct%20IndexScheduler" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="1058.5,-1084 1058.5,-1121 2446.5,-1121 2446.5,-1084 1058.5,-1084"/>
<polygon fill="none" stroke="black" points="1058.5,-1084 1058.5,-1121 2446.5,-1121 2446.5,-1084 1058.5,-1084"/>
<text text-anchor="start" x="1697.5" y="-1099.8" font-family="Arial" font-weight="bold" font-size="14.00">IndexScheduler</text>
<polygon fill="white" stroke="none" points="1058.5,-732 1058.5,-1084 2446.5,-1084 2446.5,-732 1058.5,-732"/>
<polygon fill="none" stroke="black" points="1058.5,-732 1058.5,-1084 2446.5,-1084 2446.5,-732 1058.5,-732"/>
<text text-anchor="start" x="1069.5" y="-1061.8" font-family="Arial" font-size="14.00">&#45; env: Env</text>
<text text-anchor="start" x="1069.5" y="-1046.8" font-family="Arial" font-size="14.00">&#45; must_stop_processing: MustStopProcessing</text>
<text text-anchor="start" x="1069.5" y="-1031.8" font-family="Arial" font-size="14.00">&#45; processing_tasks: Arc&lt;RwLock&lt;ProcessingTasks&gt;&gt;</text>
<text text-anchor="start" x="1069.5" y="-1016.8" font-family="Arial" font-size="14.00">&#45; file_store: FileStore</text>
<text text-anchor="start" x="1069.5" y="-1001.8" font-family="Arial" font-size="14.00">&#45; all_tasks: Database&lt;OwnedType&lt;BEU32&gt;, SerdeJson&lt;Task&gt;&gt;</text>
<text text-anchor="start" x="1069.5" y="-986.8" font-family="Arial" font-size="14.00">&#45; status: Database&lt;SerdeBincode&lt;Status&gt;, RoaringBitmapCodec&gt;</text>
<text text-anchor="start" x="1069.5" y="-971.8" font-family="Arial" font-size="14.00">&#45; kind: Database&lt;SerdeBincode&lt;Kind&gt;, RoaringBitmapCodec&gt;</text>
<text text-anchor="start" x="1069.5" y="-956.8" font-family="Arial" font-size="14.00">&#45; index_tasks: Database&lt;Str, RoaringBitmapCodec&gt;</text>
<text text-anchor="start" x="1069.5" y="-941.8" font-family="Arial" font-size="14.00">&#45; canceled_by: Database&lt;OwnedType&lt;BEU32&gt;, RoaringBitmapCodec&gt;</text>
<text text-anchor="start" x="1069.5" y="-926.8" font-family="Arial" font-size="14.00">&#45; enqueued_at: Database&lt;OwnedType&lt;BEI128&gt;, CboRoaringBitmapCodec&gt;</text>
<text text-anchor="start" x="1069.5" y="-911.8" font-family="Arial" font-size="14.00">&#45; started_at: Database&lt;OwnedType&lt;BEI128&gt;, CboRoaringBitmapCodec&gt;</text>
<text text-anchor="start" x="1069.5" y="-896.8" font-family="Arial" font-size="14.00">&#45; finished_at: Database&lt;OwnedType&lt;BEI128&gt;, CboRoaringBitmapCodec&gt;</text>
<text text-anchor="start" x="1069.5" y="-881.8" font-family="Arial" font-size="14.00">&#45; index_mapper: IndexMapper</text>
<text text-anchor="start" x="1069.5" y="-866.8" font-family="Arial" font-size="14.00">&#45; wake_up: Arc&lt;SignalEvent&gt;</text>
<text text-anchor="start" x="1069.5" y="-851.8" font-family="Arial" font-size="14.00">&#45; autobatching_enabled: bool</text>
<text text-anchor="start" x="1069.5" y="-836.8" font-family="Arial" font-size="14.00">&#45; dumps_path: PathBuf</text>
<text text-anchor="start" x="1069.5" y="-821.8" font-family="Arial" font-size="14.00">&#45; snapshots_path: PathBuf</text>
<text text-anchor="start" x="1069.5" y="-806.8" font-family="Arial" font-size="14.00">&#45; auth_path: PathBuf</text>
<text text-anchor="start" x="1069.5" y="-791.8" font-family="Arial" font-size="14.00">&#45; version_file_path: PathBuf</text>
<text text-anchor="start" x="1069.5" y="-776.8" font-family="Arial" font-size="14.00">&#45; test_breakpoint_sdr: crossbeam::channel::Sender&lt;(Breakpoint, bool)&gt;</text>
<text text-anchor="start" x="1069.5" y="-761.8" font-family="Arial" font-size="14.00">&#45; planned_failures: Vec&lt;(usize, tests::FailureLocation)&gt;</text>
<text text-anchor="start" x="1069.5" y="-746.8" font-family="Arial" font-size="14.00">&#45; run_loop_iteration: Arc&lt;RwLock&lt;usize&gt;&gt;</text>
<polygon fill="white" stroke="none" points="1058.5,-5 1058.5,-732 2446.5,-732 2446.5,-5 1058.5,-5"/>
<polygon fill="none" stroke="black" points="1058.5,-5 1058.5,-732 2446.5,-732 2446.5,-5 1058.5,-5"/>
<text text-anchor="start" x="1069.5" y="-709.8" font-family="Arial" font-size="14.00">&#45; private_clone(&amp;self) &#45;&gt; IndexScheduler</text>
<text text-anchor="start" x="1069.5" y="-694.8" font-family="Arial" font-size="14.00">&#45; new(options: IndexSchedulerOptions, #[cfg(test)] test_breakpoint_sdr: &#160;&#160;&#160;crossbeam::channel::Sender&lt;(Breakpoint, bool)&gt;, #[cfg(test)] planned_failures: Vec&lt;(usize, tests::FailureLocation)&gt;) &#45;&gt; Result&lt;Self&gt;</text>
<text text-anchor="start" x="1069.5" y="-679.8" font-family="Arial" font-size="14.00">&#45; index_budget(tasks_path: &amp;Path, base_map_size: usize, mut task_db_size: usize, max_index_count: usize) &#45;&gt; IndexBudget</text>
<text text-anchor="start" x="1069.5" y="-664.8" font-family="Arial" font-size="14.00">&#45; is_good_heed(tasks_path: &amp;Path, map_size: usize) &#45;&gt; bool</text>
<text text-anchor="start" x="1069.5" y="-649.8" font-family="Arial" font-size="14.00">&#45; read_txn(&amp;self) &#45;&gt; Result&lt;RoTxn&gt;</text>
<text text-anchor="start" x="1069.5" y="-634.8" font-family="Arial" font-size="14.00">&#45; run(&amp;self)</text>
<text text-anchor="start" x="1069.5" y="-619.8" font-family="Arial" font-size="14.00">&#45; indexer_config(&amp;self) &#45;&gt; &amp;IndexerConfig</text>
<text text-anchor="start" x="1069.5" y="-604.8" font-family="Arial" font-size="14.00">&#45; size(&amp;self) &#45;&gt; Result&lt;u64&gt;</text>
<text text-anchor="start" x="1069.5" y="-589.8" font-family="Arial" font-size="14.00">&#45; index(&amp;self, name: &amp;str) &#45;&gt; Result&lt;Index&gt;</text>
<text text-anchor="start" x="1069.5" y="-574.8" font-family="Arial" font-size="14.00">&#45; index_names(self) &#45;&gt; Result&lt;Vec&lt;String&gt;&gt;</text>
<text text-anchor="start" x="1069.5" y="-559.8" font-family="Arial" font-size="14.00">&#45; try_for_each_index(&amp;self, f: impl FnMut(&amp;str, &amp;Index) &#45;&gt; Result&lt;U&gt;) &#45;&gt; Result&lt;V&gt;</text>
<text text-anchor="start" x="1069.5" y="-544.8" font-family="Arial" font-size="14.00">&#45; get_task_ids(&amp;self, rtxn: &amp;RoTxn, query: &amp;Query) &#45;&gt; Result&lt;RoaringBitmap&gt;</text>
<text text-anchor="start" x="1069.5" y="-529.8" font-family="Arial" font-size="14.00">&#45; is_index_processing(&amp;self, index: &amp;str) &#45;&gt; Result&lt;bool&gt;</text>
<text text-anchor="start" x="1069.5" y="-514.8" font-family="Arial" font-size="14.00">&#45; get_task_ids_from_authorized_indexes(&amp;self, rtxn: &amp;RoTxn, query: &amp;Query, filters: &amp;meilisearch_auth::AuthFilter) &#45;&gt; Result&lt;RoaringBitmap&gt;</text>
<text text-anchor="start" x="1069.5" y="-499.8" font-family="Arial" font-size="14.00">&#45; get_tasks_from_authorized_indexes(&amp;self, query: Query, filters: &amp;meilisearch_auth::AuthFilter) &#45;&gt; Result&lt;Vec&lt;Task&gt;&gt;</text>
<text text-anchor="start" x="1069.5" y="-484.8" font-family="Arial" font-size="14.00">&#45; register(&amp;self, kind: KindWithContent) &#45;&gt; Result&lt;Task&gt;</text>
<text text-anchor="start" x="1069.5" y="-469.8" font-family="Arial" font-size="14.00">&#45; register_dumped_task(&amp;mut self, task: TaskDump, content_file: Option&lt;Box&lt;UpdateFile&gt;&gt;) &#45;&gt; Result&lt;Task&gt;</text>
<text text-anchor="start" x="1069.5" y="-454.8" font-family="Arial" font-size="14.00">&#45; create_raw_index(&amp;self, name: &amp;str, date: Option&lt;(OffsetDateTime, OffsetDateTime)&gt;) &#45;&gt; Result&lt;Index&gt;</text>
<text text-anchor="start" x="1069.5" y="-439.8" font-family="Arial" font-size="14.00">&#45; create_update_file(&amp;self) &#45;&gt; Result&lt;(Uuid, file_store::File)&gt;</text>
<text text-anchor="start" x="1069.5" y="-424.8" font-family="Arial" font-size="14.00">&#45; create_update_file_with_uuid(&amp;self, uuid: u128) &#45;&gt; Result&lt;(Uuid, file_store::File)&gt;</text>
<text text-anchor="start" x="1069.5" y="-409.8" font-family="Arial" font-size="14.00">&#45; compute_update_file_size(&amp;self) &#45;&gt; Result&lt;u64&gt;</text>
<text text-anchor="start" x="1069.5" y="-394.8" font-family="Arial" font-size="14.00">&#45; delete_update_file(&amp;self, uuid: Uuid) &#45;&gt; Result&lt;()&gt;</text>
<text text-anchor="start" x="1069.5" y="-379.8" font-family="Arial" font-size="14.00">&#45; tick(&amp;self) &#45;&gt; Result&lt;TickOutcome&gt;</text>
<text text-anchor="start" x="1069.5" y="-364.8" font-family="Arial" font-size="14.00">&#45; delete_persisted_task_data(&amp;self, task: &amp;Task) &#45;&gt; Result&lt;()&gt;</text>
<text text-anchor="start" x="1069.5" y="-349.8" font-family="Arial" font-size="14.00">&#45; breakpoint(&amp;self, b: Breakpoint)</text>
<text text-anchor="start" x="1069.5" y="-334.8" font-family="Arial" font-size="14.00">&#45; create_next_batch_index(&amp;self, rtxn: &amp;RoTxn, index_uid: String, batch: BatchKind, must_create_index: bool) &#45;&gt; Result&lt;Option&lt;Batch&gt;&gt;</text>
<text text-anchor="start" x="1069.5" y="-319.8" font-family="Arial" font-size="14.00">&#45; create_next_batch(&amp;self, rtxn: &amp;RoTxn) &#45;&gt; Result&lt;Option&lt;Batch&gt;&gt;</text>
<text text-anchor="start" x="1069.5" y="-304.8" font-family="Arial" font-size="14.00">&#45; process_batch(&amp;self, batch: Batch) &#45;&gt; Result&lt;Vec&lt;Task&gt;&gt;</text>
<text text-anchor="start" x="1069.5" y="-289.8" font-family="Arial" font-size="14.00">&#45; apply_index_swap(&amp;self, wtxn: &amp;mut RwTxn, task_id: u32, lhs: &amp;str, rhs: &amp;str) &#45;&gt; Result&lt;()&gt;</text>
<text text-anchor="start" x="1069.5" y="-274.8" font-family="Arial" font-size="14.00">&#45; apply_index_operation(&amp;self, index_wtxn: &amp;mut RwTxn&lt;&#39;i, &#39;_&gt;, index: &amp;&#39;i Index, operation: IndexOperation) &#45;&gt; Result&lt;Vec&lt;Task&gt;&gt;</text>
<text text-anchor="start" x="1069.5" y="-259.8" font-family="Arial" font-size="14.00">&#45; delete_matched_tasks(&amp;self, wtxn: &amp;mut RwTxn, matched_tasks: &amp;RoaringBitmap) &#45;&gt; Result&lt;u64&gt;</text>
<text text-anchor="start" x="1069.5" y="-244.8" font-family="Arial" font-size="14.00">&#45; cancel_matched_tasks(&amp;self, wtxn: &amp;mut RwTxn, cancel_task_id: TaskId, matched_tasks: &amp;RoaringBitmap, previous_started_at: OffsetDateTime, previous_processing_tasks: &amp;RoaringBitmap) &#45;&gt; Result&lt;Vec&lt;Uuid&gt;&gt;</text>
<text text-anchor="start" x="1069.5" y="-229.8" font-family="Arial" font-size="14.00">&#45; all_task_ids(&amp;self, rtxn: &amp;RoTxn) &#45;&gt; Result&lt;RoaringBitmap&gt;</text>
<text text-anchor="start" x="1069.5" y="-214.8" font-family="Arial" font-size="14.00">&#45; last_task_id(&amp;self, rtxn: &amp;RoTxn) &#45;&gt; Result&lt;Option&lt;TaskId&gt;&gt;</text>
<text text-anchor="start" x="1069.5" y="-199.8" font-family="Arial" font-size="14.00">&#45; next_task_id(&amp;self, rtxn: &amp;RoTxn) &#45;&gt; Result&lt;TaskId&gt;</text>
<text text-anchor="start" x="1069.5" y="-184.8" font-family="Arial" font-size="14.00">&#45; get_task(&amp;self, rtxn: &amp;RoTxn, task_id: TaskId) &#45;&gt; Result&lt;Option&lt;Task&gt;&gt;</text>
<text text-anchor="start" x="1069.5" y="-169.8" font-family="Arial" font-size="14.00">&#45; get_existing_tasks(&amp;self, rtxn: &amp;RoTxn, tasks: impl IntoIterator&lt;Item = TaskId&gt;) &#45;&gt; Result&lt;Vec&lt;Task&gt;&gt;</text>
<text text-anchor="start" x="1069.5" y="-154.8" font-family="Arial" font-size="14.00">&#45; update_task(&amp;self, wtxn: &amp;mut RwTxn, task: &amp;Task) &#45;&gt; Result&lt;()&gt;</text>
<text text-anchor="start" x="1069.5" y="-139.8" font-family="Arial" font-size="14.00">&#45; index_tasks(&amp;self, rtxn: &amp;RoTxn, index: &amp;str) &#45;&gt; Result&lt;RoaringBitmap&gt;</text>
<text text-anchor="start" x="1069.5" y="-124.8" font-family="Arial" font-size="14.00">&#45; update_index(&amp;self, wtxn: &amp;mut RwTxn, index: &amp;str, f: impl Fn(&amp;mut RoaringBitmap)) &#45;&gt; Result&lt;()&gt;</text>
<text text-anchor="start" x="1069.5" y="-109.8" font-family="Arial" font-size="14.00">&#45; get_status(&amp;self, rtxn: &amp;RoTxn, status: Status) &#45;&gt; Result&lt;RoaringBitmap&gt;</text>
<text text-anchor="start" x="1069.5" y="-94.8" font-family="Arial" font-size="14.00">&#45; put_status(&amp;self, wtxn: &amp;mut RwTxn, status: Status, bitmap: &amp;RoaringBitmap) &#45;&gt; Result&lt;()&gt;</text>
<text text-anchor="start" x="1069.5" y="-79.8" font-family="Arial" font-size="14.00">&#45; update_status(&amp;self, wtxn: &amp;mut RwTxn, status: Status, f: impl Fn(&amp;mut RoaringBitmap)) &#45;&gt; Result&lt;()&gt;</text>
<text text-anchor="start" x="1069.5" y="-64.8" font-family="Arial" font-size="14.00">&#45; get_kind(&amp;self, rtxn: &amp;RoTxn, kind: Kind) &#45;&gt; Result&lt;RoaringBitmap&gt;</text>
<text text-anchor="start" x="1069.5" y="-49.8" font-family="Arial" font-size="14.00">&#45; put_kind(&amp;self, wtxn: &amp;mut RwTxn, kind: Kind, bitmap: &amp;RoaringBitmap) &#45;&gt; Result&lt;()&gt;</text>
<text text-anchor="start" x="1069.5" y="-34.8" font-family="Arial" font-size="14.00">&#45; update_kind(&amp;self, wtxn: &amp;mut RwTxn, kind: Kind, f: impl Fn(&amp;mut RoaringBitmap)) &#45;&gt; Result&lt;()&gt;</text>
<text text-anchor="start" x="1069.5" y="-19.8" font-family="Arial" font-size="14.00">&#45; assert_internally_consistent(&amp;self)</text>
<polygon fill="none" stroke="black" points="1057.5,-4 1057.5,-1122 2447.5,-1122 2447.5,-4 1057.5,-4"/>
</a>
</g>
</g>
<!-- ndQuery&#45;&gt;ndIndexScheduler -->
<g id="edge1" class="edge"><title>ndQuery&#45;&gt;ndIndexScheduler</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M341.014,-1176.81C348.134,-1171.63 355.309,-1166.67 362.5,-1162 570.8,-1026.63 814.878,-909.67 1039.88,-815.992"/>
<polygon fill="black" stroke="black" points="1049.22,-812.11 1041.71,-820.102 1044.61,-814.028 1039.99,-815.947 1039.99,-815.947 1039.99,-815.947 1044.61,-814.028 1038.26,-811.791 1049.22,-812.11 1049.22,-812.11"/>
</g>
<!-- ndProcessingTasks -->
<g id="node2" class="node"><title>ndProcessingTasks</title>
<g id="a_node2_2"><a xlink:href="https://github.com/meilisearch/meilisearch//blob/master/src/lib.rs#:~:text=struct%20ProcessingTasks" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="380.5,-1383 380.5,-1420 964.5,-1420 964.5,-1383 380.5,-1383"/>
<polygon fill="none" stroke="black" points="380.5,-1383 380.5,-1420 964.5,-1420 964.5,-1383 380.5,-1383"/>
<text text-anchor="start" x="611.5" y="-1398.8" font-family="Arial" font-weight="bold" font-size="14.00">ProcessingTasks</text>
<polygon fill="white" stroke="none" points="380.5,-1331 380.5,-1383 964.5,-1383 964.5,-1331 380.5,-1331"/>
<polygon fill="none" stroke="black" points="380.5,-1331 380.5,-1383 964.5,-1383 964.5,-1331 380.5,-1331"/>
<text text-anchor="start" x="391.5" y="-1360.8" font-family="Arial" font-size="14.00">&#45; started_at: OffsetDateTime</text>
<text text-anchor="start" x="391.5" y="-1345.8" font-family="Arial" font-size="14.00">&#45; processing: RoaringBitmap</text>
<polygon fill="white" stroke="none" points="380.5,-1249 380.5,-1331 964.5,-1331 964.5,-1249 380.5,-1249"/>
<polygon fill="none" stroke="black" points="380.5,-1249 380.5,-1331 964.5,-1331 964.5,-1249 380.5,-1249"/>
<text text-anchor="start" x="391.5" y="-1308.8" font-family="Arial" font-size="14.00">&#45; new() &#45;&gt; ProcessingTasks</text>
<text text-anchor="start" x="391.5" y="-1293.8" font-family="Arial" font-size="14.00">&#45; start_processing_at(&amp;mut self, started_at: OffsetDateTime, processing: RoaringBitmap)</text>
<text text-anchor="start" x="391.5" y="-1278.8" font-family="Arial" font-size="14.00">&#45; stop_processing(&amp;mut self)</text>
<text text-anchor="start" x="391.5" y="-1263.8" font-family="Arial" font-size="14.00">&#45; must_cancel_processing_tasks(&amp;self, canceled_tasks: &amp;RoaringBitmap) &#45;&gt; bool</text>
<polygon fill="none" stroke="black" points="379.5,-1248.5 379.5,-1421.5 965.5,-1421.5 965.5,-1248.5 379.5,-1248.5"/>
</a>
</g>
</g>
<!-- ndProcessingTasks&#45;&gt;ndIndexScheduler -->
<g id="edge2" class="edge"><title>ndProcessingTasks&#45;&gt;ndIndexScheduler</title>
<path fill="none" stroke="black" d="M798.238,-1244.35C862.962,-1198.21 947.567,-1137.89 1039.67,-1072.22"/>
<polygon fill="black" stroke="black" points="1039.71,-1072.2 1042.27,-1065.46 1049.48,-1065.23 1046.91,-1071.97 1039.71,-1072.2"/>
</g>
<!-- ndMustStopProcessing -->
<g id="node3" class="node"><title>ndMustStopProcessing</title>
<g id="a_node3_3"><a xlink:href="https://github.com/meilisearch/meilisearch//blob/master/src/lib.rs#:~:text=struct%20MustStopProcessing" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="1001.5,-1368 1001.5,-1405 1170.5,-1405 1170.5,-1368 1001.5,-1368"/>
<polygon fill="none" stroke="black" points="1001.5,-1368 1001.5,-1405 1170.5,-1405 1170.5,-1368 1001.5,-1368"/>
<text text-anchor="start" x="1012.5" y="-1383.8" font-family="Arial" font-weight="bold" font-size="14.00">MustStopProcessing</text>
<polygon fill="white" stroke="none" points="1001.5,-1331 1001.5,-1368 1170.5,-1368 1170.5,-1331 1001.5,-1331"/>
<polygon fill="none" stroke="black" points="1001.5,-1331 1001.5,-1368 1170.5,-1368 1170.5,-1331 1001.5,-1331"/>
<text text-anchor="start" x="1012.5" y="-1345.8" font-family="Arial" font-size="14.00">&#45; Arc&lt;AtomicBool&gt;</text>
<polygon fill="white" stroke="none" points="1001.5,-1264 1001.5,-1331 1170.5,-1331 1170.5,-1264 1001.5,-1264"/>
<polygon fill="none" stroke="black" points="1001.5,-1264 1001.5,-1331 1170.5,-1331 1170.5,-1264 1001.5,-1264"/>
<text text-anchor="start" x="1012.5" y="-1308.8" font-family="Arial" font-size="14.00">&#45; get(&amp;self) &#45;&gt; bool</text>
<text text-anchor="start" x="1012.5" y="-1293.8" font-family="Arial" font-size="14.00">&#45; must_stop(&amp;self)</text>
<text text-anchor="start" x="1012.5" y="-1278.8" font-family="Arial" font-size="14.00">&#45; reset(&amp;self)</text>
<polygon fill="none" stroke="black" points="1000,-1263.5 1000,-1406.5 1171,-1406.5 1171,-1263.5 1000,-1263.5"/>
</a>
</g>
</g>
<!-- ndMustStopProcessing&#45;&gt;ndIndexScheduler -->
<g id="edge3" class="edge"><title>ndMustStopProcessing&#45;&gt;ndIndexScheduler</title>
<path fill="none" stroke="black" d="M1124.99,-1259.3C1142.64,-1228.21 1164.61,-1192.35 1187.5,-1162 1194.13,-1153.21 1200.88,-1144.4 1207.72,-1135.59"/>
<polygon fill="black" stroke="black" points="1207.8,-1135.49 1208.34,-1128.3 1215.19,-1126.03 1214.65,-1133.22 1207.8,-1135.49"/>
</g>
<!-- ndBreakpoint -->
<g id="node4" class="node"><title>ndBreakpoint</title>
<g id="a_node4_4"><a xlink:href="https://github.com/meilisearch/meilisearch//blob/master/src/lib.rs#:~:text=enum%20Breakpoint" xlink:title="&lt;TABLE&gt;">
<polygon fill="yellow" stroke="none" points="1206.5,-1395 1206.5,-1432 1391.5,-1432 1391.5,-1395 1206.5,-1395"/>
<polygon fill="none" stroke="black" points="1206.5,-1395 1206.5,-1432 1391.5,-1432 1391.5,-1395 1206.5,-1395"/>
<text text-anchor="start" x="1260.5" y="-1410.8" font-family="Arial" font-weight="bold" font-size="14.00">Breakpoint</text>
<polygon fill="white" stroke="none" points="1206.5,-1238 1206.5,-1395 1391.5,-1395 1391.5,-1238 1206.5,-1238"/>
<polygon fill="none" stroke="black" points="1206.5,-1238 1206.5,-1395 1391.5,-1395 1391.5,-1238 1206.5,-1238"/>
<text text-anchor="start" x="1217.5" y="-1372.8" font-family="Arial" font-size="14.00">Init</text>
<text text-anchor="start" x="1217.5" y="-1357.8" font-family="Arial" font-size="14.00">Start</text>
<text text-anchor="start" x="1217.5" y="-1342.8" font-family="Arial" font-size="14.00">BatchCreated</text>
<text text-anchor="start" x="1217.5" y="-1327.8" font-family="Arial" font-size="14.00">BeforeProcessing</text>
<text text-anchor="start" x="1217.5" y="-1312.8" font-family="Arial" font-size="14.00">AfterProcessing</text>
<text text-anchor="start" x="1217.5" y="-1297.8" font-family="Arial" font-size="14.00">AbortedIndexation</text>
<text text-anchor="start" x="1217.5" y="-1282.8" font-family="Arial" font-size="14.00">ProcessBatchSucceeded</text>
<text text-anchor="start" x="1217.5" y="-1267.8" font-family="Arial" font-size="14.00">ProcessBatchFailed</text>
<text text-anchor="start" x="1217.5" y="-1252.8" font-family="Arial" font-size="14.00">InsideProcessBatch</text>
<polygon fill="none" stroke="black" points="1205,-1237 1205,-1433 1392,-1433 1392,-1237 1205,-1237"/>
</a>
</g>
</g>
<!-- ndBreakpoint&#45;&gt;ndIndexScheduler -->
<g id="edge4" class="edge"><title>ndBreakpoint&#45;&gt;ndIndexScheduler</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M1358.09,-1232.94C1374.67,-1204.81 1393.94,-1172.13 1414.87,-1136.62"/>
<polygon fill="black" stroke="black" points="1415.03,-1136.37 1414.63,-1129.17 1421.12,-1126.03 1421.52,-1133.23 1415.03,-1136.37"/>
</g>
<!-- ndIndexSchedulerOptions -->
<g id="node5" class="node"><title>ndIndexSchedulerOptions</title>
<g id="a_node5_5"><a xlink:href="https://github.com/meilisearch/meilisearch//blob/master/src/lib.rs#:~:text=struct%20IndexSchedulerOptions" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="1427.5,-1425 1427.5,-1462 1653.5,-1462 1653.5,-1425 1427.5,-1425"/>
<polygon fill="none" stroke="black" points="1427.5,-1425 1427.5,-1462 1653.5,-1462 1653.5,-1425 1427.5,-1425"/>
<text text-anchor="start" x="1458" y="-1440.8" font-family="Arial" font-weight="bold" font-size="14.00">IndexSchedulerOptions</text>
<polygon fill="white" stroke="none" points="1427.5,-1208 1427.5,-1425 1653.5,-1425 1653.5,-1208 1427.5,-1208"/>
<polygon fill="none" stroke="black" points="1427.5,-1208 1427.5,-1425 1653.5,-1425 1653.5,-1208 1427.5,-1208"/>
<text text-anchor="start" x="1438.5" y="-1402.8" font-family="Arial" font-size="14.00">+ version_file_path: PathBuf</text>
<text text-anchor="start" x="1438.5" y="-1387.8" font-family="Arial" font-size="14.00">+ auth_path: PathBuf</text>
<text text-anchor="start" x="1438.5" y="-1372.8" font-family="Arial" font-size="14.00">+ tasks_path: PathBuf</text>
<text text-anchor="start" x="1438.5" y="-1357.8" font-family="Arial" font-size="14.00">+ update_file_path: PathBuf</text>
<text text-anchor="start" x="1438.5" y="-1342.8" font-family="Arial" font-size="14.00">+ indexes_path: PathBuf</text>
<text text-anchor="start" x="1438.5" y="-1327.8" font-family="Arial" font-size="14.00">+ snapshots_path: PathBuf</text>
<text text-anchor="start" x="1438.5" y="-1312.8" font-family="Arial" font-size="14.00">+ dumps_path: PathBuf</text>
<text text-anchor="start" x="1438.5" y="-1297.8" font-family="Arial" font-size="14.00">+ task_db_size: usize</text>
<text text-anchor="start" x="1438.5" y="-1282.8" font-family="Arial" font-size="14.00">+ index_base_map_size: usize</text>
<text text-anchor="start" x="1438.5" y="-1267.8" font-family="Arial" font-size="14.00">+ index_growth_amount: usize</text>
<text text-anchor="start" x="1438.5" y="-1252.8" font-family="Arial" font-size="14.00">+ index_count: usize</text>
<text text-anchor="start" x="1438.5" y="-1237.8" font-family="Arial" font-size="14.00">+ indexer_config: IndexerConfig</text>
<text text-anchor="start" x="1438.5" y="-1222.8" font-family="Arial" font-size="14.00">+ autobatching_enabled: bool</text>
<polygon fill="none" stroke="black" points="1426.5,-1207 1426.5,-1463 1654.5,-1463 1654.5,-1207 1426.5,-1207"/>
</a>
</g>
</g>
<!-- ndIndexSchedulerOptions&#45;&gt;ndIndexScheduler -->
<g id="edge5" class="edge"><title>ndIndexSchedulerOptions&#45;&gt;ndIndexScheduler</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M1576.58,-1202.94C1582.27,-1182.29 1588.44,-1159.87 1594.96,-1136.2"/>
<polygon fill="black" stroke="black" points="1597.67,-1126.35 1599.36,-1137.18 1596.34,-1131.17 1595.02,-1135.99 1595.02,-1135.99 1595.02,-1135.99 1596.34,-1131.17 1590.68,-1134.8 1597.67,-1126.35 1597.67,-1126.35"/>
</g>
<!-- ndTickOutcome -->
<g id="node7" class="node"><title>ndTickOutcome</title>
<g id="a_node7_6"><a xlink:href="https://github.com/meilisearch/meilisearch//blob/master/src/lib.rs#:~:text=enum%20TickOutcome" xlink:title="&lt;TABLE&gt;">
<polygon fill="yellow" stroke="none" points="1689.5,-1342 1689.5,-1379 1815.5,-1379 1815.5,-1342 1689.5,-1342"/>
<polygon fill="none" stroke="black" points="1689.5,-1342 1689.5,-1379 1815.5,-1379 1815.5,-1342 1689.5,-1342"/>
<text text-anchor="start" x="1705.5" y="-1357.8" font-family="Arial" font-weight="bold" font-size="14.00">TickOutcome</text>
<polygon fill="white" stroke="none" points="1689.5,-1290 1689.5,-1342 1815.5,-1342 1815.5,-1290 1689.5,-1290"/>
<polygon fill="none" stroke="black" points="1689.5,-1290 1689.5,-1342 1815.5,-1342 1815.5,-1290 1689.5,-1290"/>
<text text-anchor="start" x="1700.5" y="-1319.8" font-family="Arial" font-size="14.00">TickAgain(usize)</text>
<text text-anchor="start" x="1700.5" y="-1304.8" font-family="Arial" font-size="14.00">WaitForSignal</text>
<polygon fill="none" stroke="black" points="1688.5,-1289.5 1688.5,-1380.5 1816.5,-1380.5 1816.5,-1289.5 1688.5,-1289.5"/>
</a>
</g>
</g>
<!-- ndTickOutcome&#45;&gt;ndIndexScheduler -->
<g id="edge6" class="edge"><title>ndTickOutcome&#45;&gt;ndIndexScheduler</title>
<path fill="none" stroke="black" d="M1752.5,-1285.25C1752.5,-1249.63 1752.5,-1197.06 1752.5,-1136.24"/>
<polygon fill="black" stroke="black" points="1752.5,-1126.01 1757,-1136.01 1752.5,-1131.01 1752.5,-1136.01 1752.5,-1136.01 1752.5,-1136.01 1752.5,-1131.01 1748,-1136.01 1752.5,-1126.01 1752.5,-1126.01"/>
</g>
<!-- ndIndexBudget -->
<g id="node8" class="node"><title>ndIndexBudget</title>
<g id="a_node8_7"><a xlink:href="https://github.com/meilisearch/meilisearch//blob/master/src/lib.rs#:~:text=struct%20IndexBudget" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="1852.5,-1350 1852.5,-1387 2007.5,-1387 2007.5,-1350 1852.5,-1350"/>
<polygon fill="none" stroke="black" points="1852.5,-1350 1852.5,-1387 2007.5,-1387 2007.5,-1350 1852.5,-1350"/>
<text text-anchor="start" x="1885.5" y="-1365.8" font-family="Arial" font-weight="bold" font-size="14.00">IndexBudget</text>
<polygon fill="white" stroke="none" points="1852.5,-1283 1852.5,-1350 2007.5,-1350 2007.5,-1283 1852.5,-1283"/>
<polygon fill="none" stroke="black" points="1852.5,-1283 1852.5,-1350 2007.5,-1350 2007.5,-1283 1852.5,-1283"/>
<text text-anchor="start" x="1863.5" y="-1327.8" font-family="Arial" font-size="14.00">&#45; map_size: usize</text>
<text text-anchor="start" x="1863.5" y="-1312.8" font-family="Arial" font-size="14.00">&#45; index_count: usize</text>
<text text-anchor="start" x="1863.5" y="-1297.8" font-family="Arial" font-size="14.00">&#45; task_db_size: usize</text>
<polygon fill="none" stroke="black" points="1851,-1282 1851,-1388 2008,-1388 2008,-1282 1851,-1282"/>
</a>
</g>
</g>
<!-- ndIndexBudget&#45;&gt;ndIndexScheduler -->
<g id="edge7" class="edge"><title>ndIndexBudget&#45;&gt;ndIndexScheduler</title>
<path fill="none" stroke="black" d="M1916.56,-1277.69C1908.44,-1242.38 1897.06,-1192.87 1884.03,-1136.21"/>
<polygon fill="black" stroke="black" points="1881.76,-1126.31 1888.38,-1135.05 1882.88,-1131.18 1884,-1136.05 1884,-1136.05 1884,-1136.05 1882.88,-1131.18 1879.61,-1137.06 1881.76,-1126.31 1881.76,-1126.31"/>
</g>
<!-- ndBatch -->
<g id="node9" class="node"><title>ndBatch</title>
<g id="a_node9_8"><a xlink:href="https://github.com/meilisearch/meilisearch//blob/master/src/batch.rs#:~:text=enum%20Batch" xlink:title="&lt;TABLE&gt;">
<polygon fill="yellow" stroke="none" points="2043.5,-1421 2043.5,-1458 2281.5,-1458 2281.5,-1421 2043.5,-1421"/>
<polygon fill="none" stroke="black" points="2043.5,-1421 2043.5,-1458 2281.5,-1458 2281.5,-1421 2043.5,-1421"/>
<text text-anchor="start" x="2142" y="-1436.8" font-family="Arial" font-weight="bold" font-size="14.00">Batch</text>
<polygon fill="white" stroke="none" points="2043.5,-1264 2043.5,-1421 2281.5,-1421 2281.5,-1264 2043.5,-1264"/>
<polygon fill="none" stroke="black" points="2043.5,-1264 2043.5,-1421 2281.5,-1421 2281.5,-1264 2043.5,-1264"/>
<text text-anchor="start" x="2054.5" y="-1398.8" font-family="Arial" font-size="14.00">TaskCancelation</text>
<text text-anchor="start" x="2054.5" y="-1383.8" font-family="Arial" font-size="14.00">TaskDeletion(Task)</text>
<text text-anchor="start" x="2054.5" y="-1368.8" font-family="Arial" font-size="14.00">SnapshotCreation(Vec&lt;Task&gt;)</text>
<text text-anchor="start" x="2054.5" y="-1353.8" font-family="Arial" font-size="14.00">Dump(Task)</text>
<text text-anchor="start" x="2054.5" y="-1338.8" font-family="Arial" font-size="14.00">IndexOperation</text>
<text text-anchor="start" x="2054.5" y="-1323.8" font-family="Arial" font-size="14.00">IndexCreation</text>
<text text-anchor="start" x="2054.5" y="-1308.8" font-family="Arial" font-size="14.00">IndexUpdate</text>
<text text-anchor="start" x="2054.5" y="-1293.8" font-family="Arial" font-size="14.00">IndexDeletion</text>
<text text-anchor="start" x="2054.5" y="-1278.8" font-family="Arial" font-size="14.00">IndexSwap</text>
<polygon fill="white" stroke="none" points="2043.5,-1212 2043.5,-1264 2281.5,-1264 2281.5,-1212 2043.5,-1212"/>
<polygon fill="none" stroke="black" points="2043.5,-1212 2043.5,-1264 2281.5,-1264 2281.5,-1212 2043.5,-1212"/>
<text text-anchor="start" x="2054.5" y="-1241.8" font-family="Arial" font-size="14.00">&#45; ids(&amp;self) &#45;&gt; Vec&lt;TaskId&gt;</text>
<text text-anchor="start" x="2054.5" y="-1226.8" font-family="Arial" font-size="14.00">&#45; index_uid(&amp;self) &#45;&gt; Option&lt;&amp;str&gt;</text>
<polygon fill="none" stroke="black" points="2042.5,-1211 2042.5,-1459 2282.5,-1459 2282.5,-1211 2042.5,-1211"/>
</a>
</g>
</g>
<!-- ndBatch&#45;&gt;ndIndexScheduler -->
<g id="edge8" class="edge"><title>ndBatch&#45;&gt;ndIndexScheduler</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M2094.8,-1206.85C2083.1,-1184.88 2070.3,-1160.84 2056.73,-1135.36"/>
<polygon fill="black" stroke="black" points="2051.9,-1126.28 2060.57,-1133 2054.25,-1130.7 2056.6,-1135.11 2056.6,-1135.11 2056.6,-1135.11 2054.25,-1130.7 2052.63,-1137.23 2051.9,-1126.28 2051.9,-1126.28"/>
</g>
<!-- ndDocumentOperation -->
<g id="node10" class="node"><title>ndDocumentOperation</title>
<g id="a_node10_9"><a xlink:href="https://github.com/meilisearch/meilisearch//blob/master/src/batch.rs#:~:text=enum%20DocumentOperation" xlink:title="&lt;TABLE&gt;">
<polygon fill="yellow" stroke="none" points="5283.5,-2338 5283.5,-2375 5446.5,-2375 5446.5,-2338 5283.5,-2338"/>
<polygon fill="none" stroke="black" points="5283.5,-2338 5283.5,-2375 5446.5,-2375 5446.5,-2338 5283.5,-2338"/>
<text text-anchor="start" x="5294.5" y="-2353.8" font-family="Arial" font-weight="bold" font-size="14.00">DocumentOperation</text>
<polygon fill="white" stroke="none" points="5283.5,-2286 5283.5,-2338 5446.5,-2338 5446.5,-2286 5283.5,-2286"/>
<polygon fill="none" stroke="black" points="5283.5,-2286 5283.5,-2338 5446.5,-2338 5446.5,-2286 5283.5,-2286"/>
<text text-anchor="start" x="5294.5" y="-2315.8" font-family="Arial" font-size="14.00">Add(Uuid)</text>
<text text-anchor="start" x="5294.5" y="-2300.8" font-family="Arial" font-size="14.00">Delete(Vec&lt;String&gt;)</text>
<polygon fill="none" stroke="black" points="5282,-2285.5 5282,-2376.5 5447,-2376.5 5447,-2285.5 5282,-2285.5"/>
</a>
</g>
</g>
<!-- ndIndexOperation -->
<g id="node11" class="node"><title>ndIndexOperation</title>
<g id="a_node11_10"><a xlink:href="https://github.com/meilisearch/meilisearch//blob/master/src/batch.rs#:~:text=enum%20IndexOperation" xlink:title="&lt;TABLE&gt;">
<polygon fill="yellow" stroke="none" points="2318.5,-1391 2318.5,-1428 2545.5,-1428 2545.5,-1391 2318.5,-1391"/>
<polygon fill="none" stroke="black" points="2318.5,-1391 2318.5,-1428 2545.5,-1428 2545.5,-1391 2318.5,-1391"/>
<text text-anchor="start" x="2378" y="-1406.8" font-family="Arial" font-weight="bold" font-size="14.00">IndexOperation</text>
<polygon fill="white" stroke="none" points="2318.5,-1279 2318.5,-1391 2545.5,-1391 2545.5,-1279 2318.5,-1279"/>
<polygon fill="none" stroke="black" points="2318.5,-1279 2318.5,-1391 2545.5,-1391 2545.5,-1279 2318.5,-1279"/>
<text text-anchor="start" x="2329.5" y="-1368.8" font-family="Arial" font-size="14.00">DocumentOperation</text>
<text text-anchor="start" x="2329.5" y="-1353.8" font-family="Arial" font-size="14.00">DocumentDeletion</text>
<text text-anchor="start" x="2329.5" y="-1338.8" font-family="Arial" font-size="14.00">DocumentClear</text>
<text text-anchor="start" x="2329.5" y="-1323.8" font-family="Arial" font-size="14.00">Settings</text>
<text text-anchor="start" x="2329.5" y="-1308.8" font-family="Arial" font-size="14.00">DocumentClearAndSetting</text>
<text text-anchor="start" x="2329.5" y="-1293.8" font-family="Arial" font-size="14.00">SettingsAndDocumentOperation</text>
<polygon fill="white" stroke="none" points="2318.5,-1242 2318.5,-1279 2545.5,-1279 2545.5,-1242 2318.5,-1242"/>
<polygon fill="none" stroke="black" points="2318.5,-1242 2318.5,-1279 2545.5,-1279 2545.5,-1242 2318.5,-1242"/>
<text text-anchor="start" x="2329.5" y="-1256.8" font-family="Arial" font-size="14.00">&#45; index_uid(&amp;self) &#45;&gt; &amp;str</text>
<polygon fill="none" stroke="black" points="2317,-1241 2317,-1429 2546,-1429 2546,-1241 2317,-1241"/>
</a>
</g>
</g>
<!-- ndIndexOperation&#45;&gt;ndIndexScheduler -->
<g id="edge9" class="edge"><title>ndIndexOperation&#45;&gt;ndIndexScheduler</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M2359.28,-1236.87C2340.25,-1212.12 2319.45,-1185.8 2299.5,-1162 2291.73,-1152.73 2283.87,-1143.42 2275.92,-1134.06"/>
<polygon fill="black" stroke="black" points="2269.23,-1126.19 2279.14,-1130.9 2272.47,-1130 2275.71,-1133.81 2275.71,-1133.81 2275.71,-1133.81 2272.47,-1130 2272.28,-1136.73 2269.23,-1126.19 2269.23,-1126.19"/>
</g>
<!-- ndDateField -->
<g id="node12" class="node"><title>ndDateField</title>
<g id="a_node12_11"><a xlink:href="https://github.com/meilisearch/meilisearch//blob/master/src/error.rs#:~:text=enum%20DateField" xlink:title="&lt;TABLE&gt;">
<polygon fill="yellow" stroke="none" points="5482.5,-2387 5482.5,-2424 5891.5,-2424 5891.5,-2387 5482.5,-2387"/>
<polygon fill="none" stroke="black" points="5482.5,-2387 5482.5,-2424 5891.5,-2424 5891.5,-2387 5482.5,-2387"/>
<text text-anchor="start" x="5654" y="-2402.8" font-family="Arial" font-weight="bold" font-size="14.00">DateField</text>
<polygon fill="white" stroke="none" points="5482.5,-2275 5482.5,-2387 5891.5,-2387 5891.5,-2275 5482.5,-2275"/>
<polygon fill="none" stroke="black" points="5482.5,-2275 5482.5,-2387 5891.5,-2387 5891.5,-2275 5482.5,-2275"/>
<text text-anchor="start" x="5493.5" y="-2364.8" font-family="Arial" font-size="14.00">BeforeEnqueuedAt</text>
<text text-anchor="start" x="5493.5" y="-2349.8" font-family="Arial" font-size="14.00">AfterEnqueuedAt</text>
<text text-anchor="start" x="5493.5" y="-2334.8" font-family="Arial" font-size="14.00">BeforeStartedAt</text>
<text text-anchor="start" x="5493.5" y="-2319.8" font-family="Arial" font-size="14.00">AfterStartedAt</text>
<text text-anchor="start" x="5493.5" y="-2304.8" font-family="Arial" font-size="14.00">BeforeFinishedAt</text>
<text text-anchor="start" x="5493.5" y="-2289.8" font-family="Arial" font-size="14.00">AfterFinishedAt</text>
<polygon fill="white" stroke="none" points="5482.5,-2238 5482.5,-2275 5891.5,-2275 5891.5,-2238 5482.5,-2238"/>
<polygon fill="none" stroke="black" points="5482.5,-2238 5482.5,-2275 5891.5,-2275 5891.5,-2238 5482.5,-2238"/>
<text text-anchor="start" x="5493.5" y="-2252.8" font-family="Arial" font-size="14.00">&#45; fmt(&amp;self, f: &amp;mut std::fmt::Formatter&lt;&#39;_&gt;) &#45;&gt; std::fmt::Result</text>
<polygon fill="none" stroke="black" points="5481,-2237 5481,-2425 5892,-2425 5892,-2237 5481,-2237"/>
</a>
</g>
</g>
<!-- ndError -->
<g id="node13" class="node"><title>ndError</title>
<g id="a_node13_12"><a xlink:href="https://github.com/meilisearch/meilisearch//blob/master/src/error.rs#:~:text=enum%20Error" xlink:title="&lt;TABLE&gt;">
<polygon fill="yellow" stroke="none" points="5927.5,-2552 5927.5,-2589 6223.5,-2589 6223.5,-2552 5927.5,-2552"/>
<polygon fill="none" stroke="black" points="5927.5,-2552 5927.5,-2589 6223.5,-2589 6223.5,-2552 5927.5,-2552"/>
<text text-anchor="start" x="6057" y="-2567.8" font-family="Arial" font-weight="bold" font-size="14.00">Error</text>
<polygon fill="white" stroke="none" points="5927.5,-2110 5927.5,-2552 6223.5,-2552 6223.5,-2110 5927.5,-2110"/>
<polygon fill="none" stroke="black" points="5927.5,-2110 5927.5,-2552 6223.5,-2552 6223.5,-2110 5927.5,-2110"/>
<text text-anchor="start" x="5938.5" y="-2529.8" font-family="Arial" font-size="14.00">IndexNotFound(String)</text>
<text text-anchor="start" x="5938.5" y="-2514.8" font-family="Arial" font-size="14.00">IndexAlreadyExists(String)</text>
<text text-anchor="start" x="5938.5" y="-2499.8" font-family="Arial" font-size="14.00">SwapDuplicateIndexFound(String)</text>
<text text-anchor="start" x="5938.5" y="-2484.8" font-family="Arial" font-size="14.00">SwapDuplicateIndexesFound(Vec&lt;String&gt;)</text>
<text text-anchor="start" x="5938.5" y="-2469.8" font-family="Arial" font-size="14.00">SwapIndexNotFound(String)</text>
<text text-anchor="start" x="5938.5" y="-2454.8" font-family="Arial" font-size="14.00">SwapIndexesNotFound(Vec&lt;String&gt;)</text>
<text text-anchor="start" x="5938.5" y="-2439.8" font-family="Arial" font-size="14.00">CorruptedDump</text>
<text text-anchor="start" x="5938.5" y="-2424.8" font-family="Arial" font-size="14.00">InvalidTaskDate</text>
<text text-anchor="start" x="5938.5" y="-2409.8" font-family="Arial" font-size="14.00">InvalidTaskUids</text>
<text text-anchor="start" x="5938.5" y="-2394.8" font-family="Arial" font-size="14.00">InvalidTaskStatuses</text>
<text text-anchor="start" x="5938.5" y="-2379.8" font-family="Arial" font-size="14.00">InvalidTaskTypes</text>
<text text-anchor="start" x="5938.5" y="-2364.8" font-family="Arial" font-size="14.00">InvalidTaskCanceledBy</text>
<text text-anchor="start" x="5938.5" y="-2349.8" font-family="Arial" font-size="14.00">InvalidIndexUid</text>
<text text-anchor="start" x="5938.5" y="-2334.8" font-family="Arial" font-size="14.00">TaskNotFound(TaskId)</text>
<text text-anchor="start" x="5938.5" y="-2319.8" font-family="Arial" font-size="14.00">TaskDeletionWithEmptyQuery</text>
<text text-anchor="start" x="5938.5" y="-2304.8" font-family="Arial" font-size="14.00">TaskCancelationWithEmptyQuery</text>
<text text-anchor="start" x="5938.5" y="-2289.8" font-family="Arial" font-size="14.00">Dump(dump::Error)</text>
<text text-anchor="start" x="5938.5" y="-2274.8" font-family="Arial" font-size="14.00">Heed(heed::Error)</text>
<text text-anchor="start" x="5938.5" y="-2259.8" font-family="Arial" font-size="14.00">Milli(milli::Error)</text>
<text text-anchor="start" x="5938.5" y="-2244.8" font-family="Arial" font-size="14.00">ProcessBatchPanicked</text>
<text text-anchor="start" x="5938.5" y="-2229.8" font-family="Arial" font-size="14.00">FileStore(file_store::Error)</text>
<text text-anchor="start" x="5938.5" y="-2214.8" font-family="Arial" font-size="14.00">IoError(std::io::Error)</text>
<text text-anchor="start" x="5938.5" y="-2199.8" font-family="Arial" font-size="14.00">Persist(tempfile::PersistError)</text>
<text text-anchor="start" x="5938.5" y="-2184.8" font-family="Arial" font-size="14.00">Anyhow(anyhow::Error)</text>
<text text-anchor="start" x="5938.5" y="-2169.8" font-family="Arial" font-size="14.00">CreateBatch(Box&lt;Self&gt;)</text>
<text text-anchor="start" x="5938.5" y="-2154.8" font-family="Arial" font-size="14.00">CorruptedTaskQueue</text>
<text text-anchor="start" x="5938.5" y="-2139.8" font-family="Arial" font-size="14.00">TaskDatabaseUpdate(Box&lt;Self&gt;)</text>
<text text-anchor="start" x="5938.5" y="-2124.8" font-family="Arial" font-size="14.00">HeedTransaction(heed::Error)</text>
<polygon fill="white" stroke="none" points="5927.5,-2073 5927.5,-2110 6223.5,-2110 6223.5,-2073 5927.5,-2073"/>
<polygon fill="none" stroke="black" points="5927.5,-2073 5927.5,-2110 6223.5,-2110 6223.5,-2073 5927.5,-2073"/>
<text text-anchor="start" x="5938.5" y="-2087.8" font-family="Arial" font-size="14.00">&#45; error_code(&amp;self) &#45;&gt; Code</text>
<polygon fill="none" stroke="black" points="5926.5,-2072 5926.5,-2590 6224.5,-2590 6224.5,-2072 5926.5,-2072"/>
</a>
</g>
</g>
<!-- ndAutobatchKind -->
<g id="node14" class="node"><title>ndAutobatchKind</title>
<g id="a_node14_13"><a xlink:href="https://github.com/meilisearch/meilisearch//blob/master/src/autobatcher.rs#:~:text=enum%20AutobatchKind" xlink:title="&lt;TABLE&gt;">
<polygon fill="yellow" stroke="none" points="2892.5,-1765.5 2892.5,-1802.5 3204.5,-1802.5 3204.5,-1765.5 2892.5,-1765.5"/>
<polygon fill="none" stroke="black" points="2892.5,-1765.5 2892.5,-1802.5 3204.5,-1802.5 3204.5,-1765.5 2892.5,-1765.5"/>
<text text-anchor="start" x="2996.5" y="-1781.3" font-family="Arial" font-weight="bold" font-size="14.00">AutobatchKind</text>
<polygon fill="white" stroke="none" points="2892.5,-1623.5 2892.5,-1765.5 3204.5,-1765.5 3204.5,-1623.5 2892.5,-1623.5"/>
<polygon fill="none" stroke="black" points="2892.5,-1623.5 2892.5,-1765.5 3204.5,-1765.5 3204.5,-1623.5 2892.5,-1623.5"/>
<text text-anchor="start" x="2903.5" y="-1743.3" font-family="Arial" font-size="14.00">DocumentImport</text>
<text text-anchor="start" x="2903.5" y="-1728.3" font-family="Arial" font-size="14.00">DocumentDeletion</text>
<text text-anchor="start" x="2903.5" y="-1713.3" font-family="Arial" font-size="14.00">DocumentClear</text>
<text text-anchor="start" x="2903.5" y="-1698.3" font-family="Arial" font-size="14.00">Settings</text>
<text text-anchor="start" x="2903.5" y="-1683.3" font-family="Arial" font-size="14.00">IndexCreation</text>
<text text-anchor="start" x="2903.5" y="-1668.3" font-family="Arial" font-size="14.00">IndexDeletion</text>
<text text-anchor="start" x="2903.5" y="-1653.3" font-family="Arial" font-size="14.00">IndexUpdate</text>
<text text-anchor="start" x="2903.5" y="-1638.3" font-family="Arial" font-size="14.00">IndexSwap</text>
<polygon fill="white" stroke="none" points="2892.5,-1556.5 2892.5,-1623.5 3204.5,-1623.5 3204.5,-1556.5 2892.5,-1556.5"/>
<polygon fill="none" stroke="black" points="2892.5,-1556.5 2892.5,-1623.5 3204.5,-1623.5 3204.5,-1556.5 2892.5,-1556.5"/>
<text text-anchor="start" x="2903.5" y="-1601.3" font-family="Arial" font-size="14.00">&#45; allow_index_creation(&amp;self) &#45;&gt; Option&lt;bool&gt;</text>
<text text-anchor="start" x="2903.5" y="-1586.3" font-family="Arial" font-size="14.00">&#45; primary_key(&amp;self) &#45;&gt; Option&lt;Option&lt;&amp;str&gt;&gt;</text>
<text text-anchor="start" x="2903.5" y="-1571.3" font-family="Arial" font-size="14.00">&#45; from(kind: KindWithContent) &#45;&gt; Self</text>
<polygon fill="none" stroke="black" points="2891.5,-1555.5 2891.5,-1803.5 3205.5,-1803.5 3205.5,-1555.5 2891.5,-1555.5"/>
</a>
</g>
</g>
<!-- ndBatchKind -->
<g id="node15" class="node"><title>ndBatchKind</title>
<g id="a_node15_14"><a xlink:href="https://github.com/meilisearch/meilisearch//blob/master/src/autobatcher.rs#:~:text=enum%20BatchKind" xlink:title="&lt;TABLE&gt;">
<polygon fill="yellow" stroke="none" points="2581.5,-1443 2581.5,-1480 3516.5,-1480 3516.5,-1443 2581.5,-1443"/>
<polygon fill="none" stroke="black" points="2581.5,-1443 2581.5,-1480 3516.5,-1480 3516.5,-1443 2581.5,-1443"/>
<text text-anchor="start" x="3012.5" y="-1458.8" font-family="Arial" font-weight="bold" font-size="14.00">BatchKind</text>
<polygon fill="white" stroke="none" points="2581.5,-1271 2581.5,-1443 3516.5,-1443 3516.5,-1271 2581.5,-1271"/>
<polygon fill="none" stroke="black" points="2581.5,-1271 2581.5,-1443 3516.5,-1443 3516.5,-1271 2581.5,-1271"/>
<text text-anchor="start" x="2592.5" y="-1420.8" font-family="Arial" font-size="14.00">DocumentClear</text>
<text text-anchor="start" x="2592.5" y="-1405.8" font-family="Arial" font-size="14.00">DocumentOperation</text>
<text text-anchor="start" x="2592.5" y="-1390.8" font-family="Arial" font-size="14.00">DocumentDeletion</text>
<text text-anchor="start" x="2592.5" y="-1375.8" font-family="Arial" font-size="14.00">ClearAndSettings</text>
<text text-anchor="start" x="2592.5" y="-1360.8" font-family="Arial" font-size="14.00">SettingsAndDocumentOperation</text>
<text text-anchor="start" x="2592.5" y="-1345.8" font-family="Arial" font-size="14.00">Settings</text>
<text text-anchor="start" x="2592.5" y="-1330.8" font-family="Arial" font-size="14.00">IndexDeletion</text>
<text text-anchor="start" x="2592.5" y="-1315.8" font-family="Arial" font-size="14.00">IndexCreation</text>
<text text-anchor="start" x="2592.5" y="-1300.8" font-family="Arial" font-size="14.00">IndexUpdate</text>
<text text-anchor="start" x="2592.5" y="-1285.8" font-family="Arial" font-size="14.00">IndexSwap</text>
<polygon fill="white" stroke="none" points="2581.5,-1189 2581.5,-1271 3516.5,-1271 3516.5,-1189 2581.5,-1189"/>
<polygon fill="none" stroke="black" points="2581.5,-1189 2581.5,-1271 3516.5,-1271 3516.5,-1189 2581.5,-1189"/>
<text text-anchor="start" x="2592.5" y="-1248.8" font-family="Arial" font-size="14.00">&#45; allow_index_creation(&amp;self) &#45;&gt; Option&lt;bool&gt;</text>
<text text-anchor="start" x="2592.5" y="-1233.8" font-family="Arial" font-size="14.00">&#45; primary_key(&amp;self) &#45;&gt; Option&lt;Option&lt;&amp;str&gt;&gt;</text>
<text text-anchor="start" x="2592.5" y="-1218.8" font-family="Arial" font-size="14.00">&#45; new(task_id: TaskId, kind: KindWithContent, primary_key: Option&lt;&amp;str&gt;) &#45;&gt; (ControlFlow&lt;BatchKind, BatchKind&gt;, bool)</text>
<text text-anchor="start" x="2592.5" y="-1203.8" font-family="Arial" font-size="14.00">&#45; accumulate(self, id: TaskId, kind: AutobatchKind, index_already_exists: bool, primary_key: Option&lt;&amp;str&gt;) &#45;&gt; ControlFlow&lt;BatchKind, BatchKind&gt;</text>
<polygon fill="none" stroke="black" points="2580,-1188.5 2580,-1481.5 3517,-1481.5 3517,-1188.5 2580,-1188.5"/>
</a>
</g>
</g>
<!-- ndAutobatchKind&#45;&gt;ndBatchKind -->
<g id="edge10" class="edge"><title>ndAutobatchKind&#45;&gt;ndBatchKind</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M3048.5,-1551.45C3048.5,-1533.3 3048.5,-1514.43 3048.5,-1495.75"/>
<polygon fill="black" stroke="black" points="3048.5,-1485.7 3053,-1495.7 3048.5,-1490.7 3048.5,-1495.7 3048.5,-1495.7 3048.5,-1495.7 3048.5,-1490.7 3044,-1495.7 3048.5,-1485.7 3048.5,-1485.7"/>
</g>
<!-- ndBatchKind&#45;&gt;ndIndexScheduler -->
<g id="edge11" class="edge"><title>ndBatchKind&#45;&gt;ndIndexScheduler</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M2796.7,-1184.39C2699.73,-1126.78 2583.56,-1057.76 2464.47,-987.009"/>
<polygon fill="black" stroke="black" points="2455.53,-981.694 2466.42,-982.933 2459.83,-984.248 2464.13,-986.802 2464.13,-986.802 2464.13,-986.802 2459.83,-984.248 2461.83,-990.671 2455.53,-981.694 2455.53,-981.694"/>
</g>
<!-- ndIndexMapper -->
<g id="node16" class="node"><title>ndIndexMapper</title>
<g id="a_node16_15"><a xlink:href="https://github.com/meilisearch/meilisearch//blob/master/src/index_mapper/mod.rs#:~:text=struct%20IndexMapper" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="3552.5,-1466 3552.5,-1503 4616.5,-1503 4616.5,-1466 3552.5,-1466"/>
<polygon fill="none" stroke="black" points="3552.5,-1466 3552.5,-1503 4616.5,-1503 4616.5,-1466 3552.5,-1466"/>
<text text-anchor="start" x="4038.5" y="-1481.8" font-family="Arial" font-weight="bold" font-size="14.00">IndexMapper</text>
<polygon fill="white" stroke="none" points="3552.5,-1354 3552.5,-1466 4616.5,-1466 4616.5,-1354 3552.5,-1354"/>
<polygon fill="none" stroke="black" points="3552.5,-1354 3552.5,-1466 4616.5,-1466 4616.5,-1354 3552.5,-1354"/>
<text text-anchor="start" x="3563.5" y="-1443.8" font-family="Arial" font-size="14.00">&#45; index_map: Arc&lt;RwLock&lt;IndexMap&gt;&gt;</text>
<text text-anchor="start" x="3563.5" y="-1428.8" font-family="Arial" font-size="14.00">&#45; index_mapping: Database&lt;Str, UuidCodec&gt;</text>
<text text-anchor="start" x="3563.5" y="-1413.8" font-family="Arial" font-size="14.00">&#45; base_path: PathBuf</text>
<text text-anchor="start" x="3563.5" y="-1398.8" font-family="Arial" font-size="14.00">&#45; index_base_map_size: usize</text>
<text text-anchor="start" x="3563.5" y="-1383.8" font-family="Arial" font-size="14.00">&#45; index_growth_amount: usize</text>
<text text-anchor="start" x="3563.5" y="-1368.8" font-family="Arial" font-size="14.00">+ indexer_config: Arc&lt;IndexerConfig&gt;</text>
<polygon fill="white" stroke="none" points="3552.5,-1167 3552.5,-1354 4616.5,-1354 4616.5,-1167 3552.5,-1167"/>
<polygon fill="none" stroke="black" points="3552.5,-1167 3552.5,-1354 4616.5,-1354 4616.5,-1167 3552.5,-1167"/>
<text text-anchor="start" x="3563.5" y="-1331.8" font-family="Arial" font-size="14.00">&#45; new(env: &amp;Env, base_path: PathBuf, index_base_map_size: usize, index_growth_amount: usize, index_count: usize, indexer_config: IndexerConfig) &#45;&gt; Result&lt;Self&gt;</text>
<text text-anchor="start" x="3563.5" y="-1316.8" font-family="Arial" font-size="14.00">&#45; create_index(&amp;self, mut wtxn: RwTxn, name: &amp;str, date: Option&lt;(OffsetDateTime, OffsetDateTime)&gt;) &#45;&gt; Result&lt;Index&gt;</text>
<text text-anchor="start" x="3563.5" y="-1301.8" font-family="Arial" font-size="14.00">&#45; delete_index(&amp;self, mut wtxn: RwTxn, name: &amp;str) &#45;&gt; Result&lt;()&gt;</text>
<text text-anchor="start" x="3563.5" y="-1286.8" font-family="Arial" font-size="14.00">&#45; exists(&amp;self, rtxn: &amp;RoTxn, name: &amp;str) &#45;&gt; Result&lt;bool&gt;</text>
<text text-anchor="start" x="3563.5" y="-1271.8" font-family="Arial" font-size="14.00">&#45; resize_index(&amp;self, rtxn: &amp;RoTxn, name: &amp;str) &#45;&gt; Result&lt;()&gt;</text>
<text text-anchor="start" x="3563.5" y="-1256.8" font-family="Arial" font-size="14.00">&#45; index(&amp;self, rtxn: &amp;RoTxn, name: &amp;str) &#45;&gt; Result&lt;Index&gt;</text>
<text text-anchor="start" x="3563.5" y="-1241.8" font-family="Arial" font-size="14.00">&#45; try_for_each_index(&amp;self, rtxn: &amp;RoTxn, mut f: impl FnMut(&amp;str, &amp;Index) &#45;&gt; Result&lt;U&gt;) &#45;&gt; Result&lt;V&gt;</text>
<text text-anchor="start" x="3563.5" y="-1226.8" font-family="Arial" font-size="14.00">&#45; index_names(&amp;self, rtxn: &amp;RoTxn) &#45;&gt; Result&lt;Vec&lt;String&gt;&gt;</text>
<text text-anchor="start" x="3563.5" y="-1211.8" font-family="Arial" font-size="14.00">&#45; swap(&amp;self, wtxn: &amp;mut RwTxn, lhs: &amp;str, rhs: &amp;str) &#45;&gt; Result&lt;()&gt;</text>
<text text-anchor="start" x="3563.5" y="-1196.8" font-family="Arial" font-size="14.00">&#45; index_exists(&amp;self, rtxn: &amp;RoTxn, name: &amp;str) &#45;&gt; Result&lt;bool&gt;</text>
<text text-anchor="start" x="3563.5" y="-1181.8" font-family="Arial" font-size="14.00">&#45; indexer_config(&amp;self) &#45;&gt; &amp;IndexerConfig</text>
<polygon fill="none" stroke="black" points="3551.5,-1166 3551.5,-1504 4617.5,-1504 4617.5,-1166 3551.5,-1166"/>
</a>
</g>
</g>
<!-- ndIndexMapper&#45;&gt;ndIndexScheduler -->
<g id="edge12" class="edge"><title>ndIndexMapper&#45;&gt;ndIndexScheduler</title>
<path fill="none" stroke="black" d="M3563.33,-1161.92C3240.28,-1055.25 2820.89,-916.769 2467.08,-799.945"/>
<polygon fill="black" stroke="black" points="2466.97,-799.91 2460.02,-801.827 2455.57,-796.147 2462.53,-794.23 2466.97,-799.91"/>
</g>
<!-- ndIndexStatus -->
<g id="node17" class="node"><title>ndIndexStatus</title>
<g id="a_node17_16"><a xlink:href="https://github.com/meilisearch/meilisearch//blob/master/src/index_mapper/mod.rs#:~:text=enum%20IndexStatus" xlink:title="&lt;TABLE&gt;">
<polygon fill="yellow" stroke="none" points="4551.5,-1963.5 4551.5,-2000.5 4791.5,-2000.5 4791.5,-1963.5 4551.5,-1963.5"/>
<polygon fill="none" stroke="black" points="4551.5,-1963.5 4551.5,-2000.5 4791.5,-2000.5 4791.5,-1963.5 4551.5,-1963.5"/>
<text text-anchor="start" x="4630" y="-1979.3" font-family="Arial" font-weight="bold" font-size="14.00">IndexStatus</text>
<polygon fill="white" stroke="none" points="4551.5,-1881.5 4551.5,-1963.5 4791.5,-1963.5 4791.5,-1881.5 4551.5,-1881.5"/>
<polygon fill="none" stroke="black" points="4551.5,-1881.5 4551.5,-1963.5 4791.5,-1963.5 4791.5,-1881.5 4551.5,-1881.5"/>
<text text-anchor="start" x="4562.5" y="-1941.3" font-family="Arial" font-size="14.00">Missing</text>
<text text-anchor="start" x="4562.5" y="-1926.3" font-family="Arial" font-size="14.00">BeingDeleted</text>
<text text-anchor="start" x="4562.5" y="-1911.3" font-family="Arial" font-size="14.00">Closing(index_map::ClosingIndex)</text>
<text text-anchor="start" x="4562.5" y="-1896.3" font-family="Arial" font-size="14.00">Available(Index)</text>
<polygon fill="none" stroke="black" points="4550.5,-1881 4550.5,-2002 4792.5,-2002 4792.5,-1881 4550.5,-1881"/>
</a>
</g>
</g>
<!-- ndIndexMap -->
<g id="node18" class="node"><title>ndIndexMap</title>
<g id="a_node18_17"><a xlink:href="https://github.com/meilisearch/meilisearch//blob/master/src/index_mapper/index_map.rs#:~:text=struct%20IndexMap" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="4439.5,-1772.5 4439.5,-1809.5 5281.5,-1809.5 5281.5,-1772.5 4439.5,-1772.5"/>
<polygon fill="none" stroke="black" points="4439.5,-1772.5 4439.5,-1809.5 5281.5,-1809.5 5281.5,-1772.5 4439.5,-1772.5"/>
<text text-anchor="start" x="4826" y="-1788.3" font-family="Arial" font-weight="bold" font-size="14.00">IndexMap</text>
<polygon fill="white" stroke="none" points="4439.5,-1705.5 4439.5,-1772.5 5281.5,-1772.5 5281.5,-1705.5 4439.5,-1705.5"/>
<polygon fill="none" stroke="black" points="4439.5,-1705.5 4439.5,-1772.5 5281.5,-1772.5 5281.5,-1705.5 4439.5,-1705.5"/>
<text text-anchor="start" x="4450.5" y="-1750.3" font-family="Arial" font-size="14.00">&#45; available: LruMap&lt;Uuid, Index&gt;</text>
<text text-anchor="start" x="4450.5" y="-1735.3" font-family="Arial" font-size="14.00">&#45; unavailable: BTreeMap&lt;Uuid, Option&lt;ClosingIndex&gt;&gt;</text>
<text text-anchor="start" x="4450.5" y="-1720.3" font-family="Arial" font-size="14.00">&#45; generation: usize</text>
<polygon fill="white" stroke="none" points="4439.5,-1548.5 4439.5,-1705.5 5281.5,-1705.5 5281.5,-1548.5 4439.5,-1548.5"/>
<polygon fill="none" stroke="black" points="4439.5,-1548.5 4439.5,-1705.5 5281.5,-1705.5 5281.5,-1548.5 4439.5,-1548.5"/>
<text text-anchor="start" x="4450.5" y="-1683.3" font-family="Arial" font-size="14.00">&#45; new(cap: usize) &#45;&gt; IndexMap</text>
<text text-anchor="start" x="4450.5" y="-1668.3" font-family="Arial" font-size="14.00">&#45; get(&amp;self, uuid: &amp;Uuid) &#45;&gt; IndexStatus</text>
<text text-anchor="start" x="4450.5" y="-1653.3" font-family="Arial" font-size="14.00">&#45; get_unavailable(&amp;self, uuid: &amp;Uuid) &#45;&gt; IndexStatus</text>
<text text-anchor="start" x="4450.5" y="-1638.3" font-family="Arial" font-size="14.00">&#45; create(&amp;mut self, uuid: &amp;Uuid, path: &amp;Path, date: Option&lt;(OffsetDateTime, OffsetDateTime)&gt;, map_size: usize) &#45;&gt; Result&lt;Index&gt;</text>
<text text-anchor="start" x="4450.5" y="-1623.3" font-family="Arial" font-size="14.00">&#45; next_generation(&amp;mut self) &#45;&gt; usize</text>
<text text-anchor="start" x="4450.5" y="-1608.3" font-family="Arial" font-size="14.00">&#45; close_for_resize(&amp;mut self, uuid: &amp;Uuid, map_size_growth: usize)</text>
<text text-anchor="start" x="4450.5" y="-1593.3" font-family="Arial" font-size="14.00">&#45; close(&amp;mut self, uuid: Uuid, index: Index, map_size_growth: usize)</text>
<text text-anchor="start" x="4450.5" y="-1578.3" font-family="Arial" font-size="14.00">&#45; start_deletion(&amp;mut self, uuid: &amp;Uuid) &#45;&gt; std::result::Result&lt;Option&lt;EnvClosingEvent&gt;, Option&lt;ClosingIndex&gt;&gt;</text>
<text text-anchor="start" x="4450.5" y="-1563.3" font-family="Arial" font-size="14.00">&#45; end_deletion(&amp;mut self, uuid: &amp;Uuid)</text>
<polygon fill="none" stroke="black" points="4438.5,-1548 4438.5,-1811 5282.5,-1811 5282.5,-1548 4438.5,-1548"/>
</a>
</g>
</g>
<!-- ndIndexStatus&#45;&gt;ndIndexMap -->
<g id="edge13" class="edge"><title>ndIndexStatus&#45;&gt;ndIndexMap</title>
<path fill="none" stroke="black" d="M4717.73,-1876.9C4729.68,-1860.46 4743.04,-1842.09 4756.65,-1823.36"/>
<polygon fill="black" stroke="black" points="4762.71,-1815.03 4760.47,-1825.76 4759.77,-1819.07 4756.83,-1823.12 4756.83,-1823.12 4756.83,-1823.12 4759.77,-1819.07 4753.19,-1820.47 4762.71,-1815.03 4762.71,-1815.03"/>
</g>
<!-- ndIndexMap&#45;&gt;ndIndexMapper -->
<g id="edge14" class="edge"><title>ndIndexMap&#45;&gt;ndIndexMapper</title>
<path fill="none" stroke="black" d="M4555.75,-1544C4532.67,-1533.81 4509.17,-1523.43 4485.6,-1513.03"/>
<polygon fill="black" stroke="black" points="4485.38,-1512.94 4478.28,-1514.17 4474.4,-1508.09 4481.51,-1506.85 4485.38,-1512.94"/>
</g>
<!-- ndReopenableIndex -->
<g id="node20" class="node"><title>ndReopenableIndex</title>
<g id="a_node20_18"><a xlink:href="https://github.com/meilisearch/meilisearch//blob/master/src/index_mapper/index_map.rs#:~:text=struct%20ReopenableIndex" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="4652.5,-1376 4652.5,-1413 5068.5,-1413 5068.5,-1376 4652.5,-1376"/>
<polygon fill="none" stroke="black" points="4652.5,-1376 4652.5,-1413 5068.5,-1413 5068.5,-1376 4652.5,-1376"/>
<text text-anchor="start" x="4800" y="-1391.8" font-family="Arial" font-weight="bold" font-size="14.00">ReopenableIndex</text>
<polygon fill="white" stroke="none" points="4652.5,-1309 4652.5,-1376 5068.5,-1376 5068.5,-1309 4652.5,-1309"/>
<polygon fill="none" stroke="black" points="4652.5,-1309 4652.5,-1376 5068.5,-1376 5068.5,-1309 4652.5,-1309"/>
<text text-anchor="start" x="4663.5" y="-1353.8" font-family="Arial" font-size="14.00">&#45; uuid: Uuid</text>
<text text-anchor="start" x="4663.5" y="-1338.8" font-family="Arial" font-size="14.00">&#45; map_size: usize</text>
<text text-anchor="start" x="4663.5" y="-1323.8" font-family="Arial" font-size="14.00">&#45; generation: usize</text>
<polygon fill="white" stroke="none" points="4652.5,-1257 4652.5,-1309 5068.5,-1309 5068.5,-1257 4652.5,-1257"/>
<polygon fill="none" stroke="black" points="4652.5,-1257 4652.5,-1309 5068.5,-1309 5068.5,-1257 4652.5,-1257"/>
<text text-anchor="start" x="4663.5" y="-1286.8" font-family="Arial" font-size="14.00">&#45; reopen(self, map: &amp;mut IndexMap, path: &amp;Path) &#45;&gt; Result&lt;()&gt;</text>
<text text-anchor="start" x="4663.5" y="-1271.8" font-family="Arial" font-size="14.00">&#45; close(self, map: &amp;mut IndexMap)</text>
<polygon fill="none" stroke="black" points="4651.5,-1256 4651.5,-1414 5069.5,-1414 5069.5,-1256 4651.5,-1256"/>
</a>
</g>
</g>
<!-- ndIndexMap&#45;&gt;ndReopenableIndex -->
<g id="edge15" class="edge"><title>ndIndexMap&#45;&gt;ndReopenableIndex</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M4860.5,-1543.63C4860.5,-1505.12 4860.5,-1464.04 4860.5,-1428.68"/>
<polygon fill="black" stroke="black" points="4860.5,-1418.38 4865,-1428.38 4860.5,-1423.38 4860.5,-1428.38 4860.5,-1428.38 4860.5,-1428.38 4860.5,-1423.38 4856,-1428.38 4860.5,-1418.38 4860.5,-1418.38"/>
</g>
<!-- ndClosingIndex -->
<g id="node19" class="node"><title>ndClosingIndex</title>
<g id="a_node19_19"><a xlink:href="https://github.com/meilisearch/meilisearch//blob/master/src/index_mapper/index_map.rs#:~:text=struct%20ClosingIndex" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="4758.5,-604 4758.5,-641 5206.5,-641 5206.5,-604 4758.5,-604"/>
<polygon fill="none" stroke="black" points="4758.5,-604 4758.5,-641 5206.5,-641 5206.5,-604 4758.5,-604"/>
<text text-anchor="start" x="4936.5" y="-619.8" font-family="Arial" font-weight="bold" font-size="14.00">ClosingIndex</text>
<polygon fill="white" stroke="none" points="4758.5,-522 4758.5,-604 5206.5,-604 5206.5,-522 4758.5,-522"/>
<polygon fill="none" stroke="black" points="4758.5,-522 4758.5,-604 5206.5,-604 5206.5,-522 4758.5,-522"/>
<text text-anchor="start" x="4769.5" y="-581.8" font-family="Arial" font-size="14.00">&#45; uuid: Uuid</text>
<text text-anchor="start" x="4769.5" y="-566.8" font-family="Arial" font-size="14.00">&#45; closing_event: EnvClosingEvent</text>
<text text-anchor="start" x="4769.5" y="-551.8" font-family="Arial" font-size="14.00">&#45; map_size: usize</text>
<text text-anchor="start" x="4769.5" y="-536.8" font-family="Arial" font-size="14.00">&#45; generation: usize</text>
<polygon fill="white" stroke="none" points="4758.5,-485 4758.5,-522 5206.5,-522 5206.5,-485 4758.5,-485"/>
<polygon fill="none" stroke="black" points="4758.5,-485 4758.5,-522 5206.5,-522 5206.5,-485 4758.5,-485"/>
<text text-anchor="start" x="4769.5" y="-499.8" font-family="Arial" font-size="14.00">&#45; wait_timeout(self, timeout: Duration) &#45;&gt; Option&lt;ReopenableIndex&gt;</text>
<polygon fill="none" stroke="black" points="4757.5,-484 4757.5,-642 5207.5,-642 5207.5,-484 4757.5,-484"/>
</a>
</g>
</g>
<!-- ndClosingIndex&#45;&gt;ndIndexMap -->
<g id="edge16" class="edge"><title>ndClosingIndex&#45;&gt;ndIndexMap</title>
<path fill="none" stroke="black" d="M5020.16,-646.284C5092.39,-817.018 5230.98,-1218.01 5086.5,-1508 5081.97,-1517.09 5076.7,-1525.82 5070.84,-1534.2"/>
<polygon fill="black" stroke="black" points="5070.82,-1534.22 5070.48,-1541.42 5063.69,-1543.87 5064.04,-1536.66 5070.82,-1534.22"/>
</g>
<!-- ndReopenableIndex&#45;&gt;ndClosingIndex -->
<g id="edge17" class="edge"><title>ndReopenableIndex&#45;&gt;ndClosingIndex</title>
<path fill="none" stroke="black" d="M4873.5,-1251.96C4896.41,-1107.35 4943.83,-808.074 4967.86,-656.411"/>
<polygon fill="black" stroke="black" points="4969.48,-646.194 4972.36,-656.775 4968.69,-651.132 4967.91,-656.071 4967.91,-656.071 4967.91,-656.071 4968.69,-651.132 4963.47,-655.367 4969.48,-646.194 4969.48,-646.194"/>
</g>
<!-- ndLru -->
<g id="node21" class="node"><title>ndLru</title>
<g id="a_node21_20"><a xlink:href="https://github.com/meilisearch/meilisearch//blob/master/src/lru.rs#:~:text=struct%20Lru" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="4787.5,-2417 4787.5,-2454 5064.5,-2454 5064.5,-2417 4787.5,-2417"/>
<polygon fill="none" stroke="black" points="4787.5,-2417 4787.5,-2454 5064.5,-2454 5064.5,-2417 4787.5,-2417"/>
<text text-anchor="start" x="4913.5" y="-2432.8" font-family="Arial" font-weight="bold" font-size="14.00">Lru</text>
<polygon fill="white" stroke="none" points="4787.5,-2350 4787.5,-2417 5064.5,-2417 5064.5,-2350 4787.5,-2350"/>
<polygon fill="none" stroke="black" points="4787.5,-2350 4787.5,-2417 5064.5,-2417 5064.5,-2350 4787.5,-2350"/>
<text text-anchor="start" x="4798.5" y="-2394.8" font-family="Arial" font-size="14.00">&#45; data: Vec&lt;(AtomicU64, T)&gt;</text>
<text text-anchor="start" x="4798.5" y="-2379.8" font-family="Arial" font-size="14.00">&#45; generation: AtomicU64</text>
<text text-anchor="start" x="4798.5" y="-2364.8" font-family="Arial" font-size="14.00">&#45; cap: usize</text>
<polygon fill="white" stroke="none" points="4787.5,-2208 4787.5,-2350 5064.5,-2350 5064.5,-2208 4787.5,-2208"/>
<polygon fill="none" stroke="black" points="4787.5,-2208 4787.5,-2350 5064.5,-2350 5064.5,-2208 4787.5,-2208"/>
<text text-anchor="start" x="4798.5" y="-2327.8" font-family="Arial" font-size="14.00">&#45; new(cap: usize) &#45;&gt; Self</text>
<text text-anchor="start" x="4798.5" y="-2312.8" font-family="Arial" font-size="14.00">&#45; capacity(&amp;self) &#45;&gt; usize</text>
<text text-anchor="start" x="4798.5" y="-2297.8" font-family="Arial" font-size="14.00">&#45; next_generation(&amp;self) &#45;&gt; u64</text>
<text text-anchor="start" x="4798.5" y="-2282.8" font-family="Arial" font-size="14.00">&#45; next_generation_mut(&amp;mut self) &#45;&gt; u64</text>
<text text-anchor="start" x="4798.5" y="-2267.8" font-family="Arial" font-size="14.00">&#45; put(&amp;mut self, value: T) &#45;&gt; Option&lt;T&gt;</text>
<text text-anchor="start" x="4798.5" y="-2252.8" font-family="Arial" font-size="14.00">&#45; pop(&amp;mut self) &#45;&gt; Option&lt;T&gt;</text>
<text text-anchor="start" x="4798.5" y="-2237.8" font-family="Arial" font-size="14.00">&#45; len(&amp;self) &#45;&gt; usize</text>
<text text-anchor="start" x="4798.5" y="-2222.8" font-family="Arial" font-size="14.00">&#45; is_full(&amp;self) &#45;&gt; bool</text>
<polygon fill="none" stroke="black" points="4786,-2207 4786,-2455 5065,-2455 5065,-2207 4786,-2207"/>
</a>
</g>
</g>
<!-- ndLruMap -->
<g id="node22" class="node"><title>ndLruMap</title>
<g id="a_node22_21"><a xlink:href="https://github.com/meilisearch/meilisearch//blob/master/src/lru.rs#:~:text=struct%20LruMap" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="4828.5,-1989.5 4828.5,-2026.5 5271.5,-2026.5 5271.5,-1989.5 4828.5,-1989.5"/>
<polygon fill="none" stroke="black" points="4828.5,-1989.5 4828.5,-2026.5 5271.5,-2026.5 5271.5,-1989.5 4828.5,-1989.5"/>
<text text-anchor="start" x="5022.5" y="-2005.3" font-family="Arial" font-weight="bold" font-size="14.00">LruMap</text>
<polygon fill="white" stroke="none" points="4828.5,-1952.5 4828.5,-1989.5 5271.5,-1989.5 5271.5,-1952.5 4828.5,-1952.5"/>
<polygon fill="none" stroke="black" points="4828.5,-1952.5 4828.5,-1989.5 5271.5,-1989.5 5271.5,-1952.5 4828.5,-1952.5"/>
<text text-anchor="start" x="4839.5" y="-1967.3" font-family="Arial" font-size="14.00">&#45; Lru&lt;(K, V)&gt;</text>
<polygon fill="white" stroke="none" points="4828.5,-1855.5 4828.5,-1952.5 5271.5,-1952.5 5271.5,-1855.5 4828.5,-1855.5"/>
<polygon fill="none" stroke="black" points="4828.5,-1855.5 4828.5,-1952.5 5271.5,-1952.5 5271.5,-1855.5 4828.5,-1855.5"/>
<text text-anchor="start" x="4839.5" y="-1930.3" font-family="Arial" font-size="14.00">&#45; new(cap: usize) &#45;&gt; Self</text>
<text text-anchor="start" x="4839.5" y="-1915.3" font-family="Arial" font-size="14.00">&#45; get(&amp;self, key: &amp;K) &#45;&gt; Option&lt;&amp;V&gt;</text>
<text text-anchor="start" x="4839.5" y="-1900.3" font-family="Arial" font-size="14.00">&#45; get_mut(&amp;mut self, key: &amp;K) &#45;&gt; Option&lt;&amp;mut V&gt;</text>
<text text-anchor="start" x="4839.5" y="-1885.3" font-family="Arial" font-size="14.00">&#45; insert(&amp;mut self, key: K, mut value: V) &#45;&gt; InsertionOutcome&lt;K, V&gt;</text>
<text text-anchor="start" x="4839.5" y="-1870.3" font-family="Arial" font-size="14.00">&#45; remove(&amp;mut self, key: &amp;K) &#45;&gt; Option&lt;V&gt;</text>
<polygon fill="none" stroke="black" points="4827,-1855 4827,-2028 5272,-2028 5272,-1855 4827,-1855"/>
</a>
</g>
</g>
<!-- ndLru&#45;&gt;ndLruMap -->
<g id="edge18" class="edge"><title>ndLru&#45;&gt;ndLruMap</title>
<path fill="none" stroke="black" d="M4966.19,-2202.85C4982.73,-2151.17 5001.57,-2092.29 5017.15,-2043.61"/>
<polygon fill="black" stroke="black" points="5017.17,-2043.54 5015.19,-2036.6 5020.83,-2032.11 5022.81,-2039.04 5017.17,-2043.54"/>
</g>
<!-- ndLruMap&#45;&gt;ndIndexMap -->
<g id="edge19" class="edge"><title>ndLruMap&#45;&gt;ndIndexMap</title>
<path fill="none" stroke="black" d="M4984.19,-1850.66C4978.15,-1842.34 4971.92,-1833.78 4965.63,-1825.13"/>
<polygon fill="black" stroke="black" points="4965.57,-1825.04 4958.81,-1822.54 4958.52,-1815.34 4965.28,-1817.84 4965.57,-1825.04"/>
</g>
<!-- ndInsertionOutcome -->
<g id="node23" class="node"><title>ndInsertionOutcome</title>
<g id="a_node23_22"><a xlink:href="https://github.com/meilisearch/meilisearch//blob/master/src/lru.rs#:~:text=enum%20InsertionOutcome" xlink:title="&lt;TABLE&gt;">
<polygon fill="yellow" stroke="none" points="5100.5,-2346 5100.5,-2383 5247.5,-2383 5247.5,-2346 5100.5,-2346"/>
<polygon fill="none" stroke="black" points="5100.5,-2346 5100.5,-2383 5247.5,-2383 5247.5,-2346 5100.5,-2346"/>
<text text-anchor="start" x="5111.5" y="-2361.8" font-family="Arial" font-weight="bold" font-size="14.00">InsertionOutcome</text>
<polygon fill="white" stroke="none" points="5100.5,-2279 5100.5,-2346 5247.5,-2346 5247.5,-2279 5100.5,-2279"/>
<polygon fill="none" stroke="black" points="5100.5,-2279 5100.5,-2346 5247.5,-2346 5247.5,-2279 5100.5,-2279"/>
<text text-anchor="start" x="5111.5" y="-2323.8" font-family="Arial" font-size="14.00">InsertedNew</text>
<text text-anchor="start" x="5111.5" y="-2308.8" font-family="Arial" font-size="14.00">Evicted(K, V)</text>
<text text-anchor="start" x="5111.5" y="-2293.8" font-family="Arial" font-size="14.00">Replaced(V)</text>
<polygon fill="none" stroke="black" points="5099,-2278 5099,-2384 5248,-2384 5248,-2278 5099,-2278"/>
</a>
</g>
</g>
<!-- ndInsertionOutcome&#45;&gt;ndLruMap -->
<g id="edge20" class="edge"><title>ndInsertionOutcome&#45;&gt;ndLruMap</title>
<path fill="none" stroke="black" d="M5155.47,-2273.65C5136.09,-2213.09 5104.9,-2115.61 5081.36,-2042.06"/>
<polygon fill="black" stroke="black" points="5078.24,-2032.31 5085.57,-2040.46 5079.76,-2037.07 5081.29,-2041.83 5081.29,-2041.83 5081.29,-2041.83 5079.76,-2037.07 5077,-2043.2 5078.24,-2032.31 5078.24,-2032.31"/>
</g>
</g>
</svg>
