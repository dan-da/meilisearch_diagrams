<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.38.0 (20140413.2041)
 -->
<!-- Title: ml Pages: 1 -->
<svg width="1352pt" height="1200pt"
 viewBox="0.00 0.00 1351.50 1200.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 1196)">
<title>ml</title>
<polygon fill="white" stroke="none" points="-4,4 -4,-1196 1347.5,-1196 1347.5,4 -4,4"/>
<!-- ndAuthController -->
<g id="node1" class="node"><title>ndAuthController</title>
<g id="a_node1_0"><a xlink:href="https://github.com/meilisearch/meilisearch//blob/master/src/lib.rs#:~:text=struct%20AuthController" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="299.5,-334 299.5,-371 907.5,-371 907.5,-334 299.5,-334"/>
<polygon fill="none" stroke="black" points="299.5,-334 299.5,-371 907.5,-371 907.5,-334 299.5,-334"/>
<text text-anchor="start" x="552" y="-349.8" font-family="Arial" font-weight="bold" font-size="14.00">AuthController</text>
<polygon fill="white" stroke="none" points="299.5,-282 299.5,-334 907.5,-334 907.5,-282 299.5,-282"/>
<polygon fill="none" stroke="black" points="299.5,-282 299.5,-334 907.5,-334 907.5,-282 299.5,-282"/>
<text text-anchor="start" x="310.5" y="-311.8" font-family="Arial" font-size="14.00">&#45; store: Arc&lt;HeedAuthStore&gt;</text>
<text text-anchor="start" x="310.5" y="-296.8" font-family="Arial" font-size="14.00">&#45; master_key: Option&lt;String&gt;</text>
<polygon fill="white" stroke="none" points="299.5,-5 299.5,-282 907.5,-282 907.5,-5 299.5,-5"/>
<polygon fill="none" stroke="black" points="299.5,-5 299.5,-282 907.5,-282 907.5,-5 299.5,-5"/>
<text text-anchor="start" x="310.5" y="-259.8" font-family="Arial" font-size="14.00">&#45; new(db_path: impl AsRef&lt;Path&gt;, master_key: &amp;Option&lt;String&gt;) &#45;&gt; Result&lt;Self&gt;</text>
<text text-anchor="start" x="310.5" y="-244.8" font-family="Arial" font-size="14.00">&#45; size(&amp;self) &#45;&gt; Result&lt;u64&gt;</text>
<text text-anchor="start" x="310.5" y="-229.8" font-family="Arial" font-size="14.00">&#45; create_key(&amp;self, create_key: CreateApiKey) &#45;&gt; Result&lt;Key&gt;</text>
<text text-anchor="start" x="310.5" y="-214.8" font-family="Arial" font-size="14.00">&#45; update_key(&amp;self, uid: Uuid, patch: PatchApiKey) &#45;&gt; Result&lt;Key&gt;</text>
<text text-anchor="start" x="310.5" y="-199.8" font-family="Arial" font-size="14.00">&#45; get_key(&amp;self, uid: Uuid) &#45;&gt; Result&lt;Key&gt;</text>
<text text-anchor="start" x="310.5" y="-184.8" font-family="Arial" font-size="14.00">&#45; get_optional_uid_from_encoded_key(&amp;self, encoded_key: &amp;[u8]) &#45;&gt; Result&lt;Option&lt;Uuid&gt;&gt;</text>
<text text-anchor="start" x="310.5" y="-169.8" font-family="Arial" font-size="14.00">&#45; get_uid_from_encoded_key(&amp;self, encoded_key: &amp;str) &#45;&gt; Result&lt;Uuid&gt;</text>
<text text-anchor="start" x="310.5" y="-154.8" font-family="Arial" font-size="14.00">&#45; get_key_filters(&amp;self, uid: Uuid, search_rules: Option&lt;SearchRules&gt;) &#45;&gt; Result&lt;AuthFilter&gt;</text>
<text text-anchor="start" x="310.5" y="-139.8" font-family="Arial" font-size="14.00">&#45; list_keys(&amp;self) &#45;&gt; Result&lt;Vec&lt;Key&gt;&gt;</text>
<text text-anchor="start" x="310.5" y="-124.8" font-family="Arial" font-size="14.00">&#45; delete_key(&amp;self, uid: Uuid) &#45;&gt; Result&lt;()&gt;</text>
<text text-anchor="start" x="310.5" y="-109.8" font-family="Arial" font-size="14.00">&#45; get_master_key(&amp;self) &#45;&gt; Option&lt;&amp;String&gt;</text>
<text text-anchor="start" x="310.5" y="-94.8" font-family="Arial" font-size="14.00">&#45; generate_key(&amp;self, uid: Uuid) &#45;&gt; Option&lt;String&gt;</text>
<text text-anchor="start" x="310.5" y="-79.8" font-family="Arial" font-size="14.00">&#45; is_key_authorized(&amp;self, uid: Uuid, action: Action, index: Option&lt;&amp;str&gt;) &#45;&gt; Result&lt;bool&gt;</text>
<text text-anchor="start" x="310.5" y="-64.8" font-family="Arial" font-size="14.00">&#45; raw_delete_all_keys(&amp;mut self) &#45;&gt; Result&lt;()&gt;</text>
<text text-anchor="start" x="310.5" y="-49.8" font-family="Arial" font-size="14.00">&#45; raw_insert_key(&amp;mut self, key: Key) &#45;&gt; Result&lt;()&gt;</text>
<text text-anchor="start" x="310.5" y="-34.8" font-family="Arial" font-size="14.00">&#45; dump(src: impl AsRef&lt;Path&gt;, dst: impl AsRef&lt;Path&gt;) &#45;&gt; Result&lt;()&gt;</text>
<text text-anchor="start" x="310.5" y="-19.8" font-family="Arial" font-size="14.00">&#45; load_dump(src: impl AsRef&lt;Path&gt;, dst: impl AsRef&lt;Path&gt;) &#45;&gt; Result&lt;()&gt;</text>
<polygon fill="none" stroke="black" points="298.5,-4 298.5,-372 908.5,-372 908.5,-4 298.5,-4"/>
</a>
</g>
</g>
<!-- ndAuthFilter -->
<g id="node2" class="node"><title>ndAuthFilter</title>
<g id="a_node2_1"><a xlink:href="https://github.com/meilisearch/meilisearch//blob/master/src/lib.rs#:~:text=struct%20AuthFilter" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="9.5,-663.5 9.5,-700.5 518.5,-700.5 518.5,-663.5 9.5,-663.5"/>
<polygon fill="none" stroke="black" points="9.5,-663.5 9.5,-700.5 518.5,-700.5 518.5,-663.5 9.5,-663.5"/>
<text text-anchor="start" x="230" y="-679.3" font-family="Arial" font-weight="bold" font-size="14.00">AuthFilter</text>
<polygon fill="white" stroke="none" points="9.5,-596.5 9.5,-663.5 518.5,-663.5 518.5,-596.5 9.5,-596.5"/>
<polygon fill="none" stroke="black" points="9.5,-596.5 9.5,-663.5 518.5,-663.5 518.5,-596.5 9.5,-596.5"/>
<text text-anchor="start" x="20.5" y="-641.3" font-family="Arial" font-size="14.00">&#45; search_rules: Option&lt;SearchRules&gt;</text>
<text text-anchor="start" x="20.5" y="-626.3" font-family="Arial" font-size="14.00">&#45; key_authorized_indexes: SearchRules</text>
<text text-anchor="start" x="20.5" y="-611.3" font-family="Arial" font-size="14.00">&#45; allow_index_creation: bool</text>
<polygon fill="white" stroke="none" points="9.5,-484.5 9.5,-596.5 518.5,-596.5 518.5,-484.5 9.5,-484.5"/>
<polygon fill="none" stroke="black" points="9.5,-484.5 9.5,-596.5 518.5,-596.5 518.5,-484.5 9.5,-484.5"/>
<text text-anchor="start" x="20.5" y="-574.3" font-family="Arial" font-size="14.00">&#45; default() &#45;&gt; Self</text>
<text text-anchor="start" x="20.5" y="-559.3" font-family="Arial" font-size="14.00">&#45; allow_index_creation(&amp;self, index: &amp;str) &#45;&gt; bool</text>
<text text-anchor="start" x="20.5" y="-544.3" font-family="Arial" font-size="14.00">&#45; with_allowed_indexes(allowed_indexes: HashSet&lt;IndexUidPattern&gt;) &#45;&gt; Self</text>
<text text-anchor="start" x="20.5" y="-529.3" font-family="Arial" font-size="14.00">&#45; all_indexes_authorized(&amp;self) &#45;&gt; bool</text>
<text text-anchor="start" x="20.5" y="-514.3" font-family="Arial" font-size="14.00">&#45; is_index_authorized(&amp;self, index: &amp;str) &#45;&gt; bool</text>
<text text-anchor="start" x="20.5" y="-499.3" font-family="Arial" font-size="14.00">&#45; get_index_search_rules(&amp;self, index: &amp;str) &#45;&gt; Option&lt;IndexSearchRules&gt;</text>
<polygon fill="none" stroke="black" points="8,-483.5 8,-701.5 519,-701.5 519,-483.5 8,-483.5"/>
</a>
</g>
</g>
<!-- ndAuthFilter&#45;&gt;ndAuthController -->
<g id="edge1" class="edge"><title>ndAuthFilter&#45;&gt;ndAuthController</title>
<path fill="none" stroke="black" d="M358.209,-479.381C383.312,-449.664 411.16,-416.696 438.82,-383.952"/>
<polygon fill="black" stroke="black" points="445.468,-376.082 442.452,-386.626 442.241,-379.902 439.015,-383.722 439.015,-383.722 439.015,-383.722 442.241,-379.902 435.577,-380.818 445.468,-376.082 445.468,-376.082"/>
</g>
<!-- ndSearchRules -->
<g id="node3" class="node"><title>ndSearchRules</title>
<g id="a_node3_2"><a xlink:href="https://github.com/meilisearch/meilisearch//blob/master/src/lib.rs#:~:text=enum%20SearchRules" xlink:title="&lt;TABLE&gt;">
<polygon fill="yellow" stroke="none" points="159.5,-963 159.5,-1000 654.5,-1000 654.5,-963 159.5,-963"/>
<polygon fill="none" stroke="black" points="159.5,-963 159.5,-1000 654.5,-1000 654.5,-963 159.5,-963"/>
<text text-anchor="start" x="362.5" y="-978.8" font-family="Arial" font-weight="bold" font-size="14.00">SearchRules</text>
<polygon fill="white" stroke="none" points="159.5,-911 159.5,-963 654.5,-963 654.5,-911 159.5,-911"/>
<polygon fill="none" stroke="black" points="159.5,-911 159.5,-963 654.5,-963 654.5,-911 159.5,-911"/>
<text text-anchor="start" x="170.5" y="-940.8" font-family="Arial" font-size="14.00">Set(HashSet&lt;IndexUidPattern&gt;)</text>
<text text-anchor="start" x="170.5" y="-925.8" font-family="Arial" font-size="14.00">Map(HashMap&lt;IndexUidPattern, Option&lt;IndexSearchRules&gt;&gt;)</text>
<polygon fill="white" stroke="none" points="159.5,-814 159.5,-911 654.5,-911 654.5,-814 159.5,-814"/>
<polygon fill="none" stroke="black" points="159.5,-814 159.5,-911 654.5,-911 654.5,-814 159.5,-814"/>
<text text-anchor="start" x="170.5" y="-888.8" font-family="Arial" font-size="14.00">&#45; default() &#45;&gt; Self</text>
<text text-anchor="start" x="170.5" y="-873.8" font-family="Arial" font-size="14.00">&#45; is_index_authorized(&amp;self, index: &amp;str) &#45;&gt; bool</text>
<text text-anchor="start" x="170.5" y="-858.8" font-family="Arial" font-size="14.00">&#45; get_index_search_rules(&amp;self, index: &amp;str) &#45;&gt; Option&lt;IndexSearchRules&gt;</text>
<text text-anchor="start" x="170.5" y="-843.8" font-family="Arial" font-size="14.00">&#45; all_indexes_authorized(&amp;self) &#45;&gt; bool</text>
<text text-anchor="start" x="170.5" y="-828.8" font-family="Arial" font-size="14.00">&#45; into_iter(self) &#45;&gt; Self::IntoIter</text>
<polygon fill="none" stroke="black" points="158,-813 158,-1001 655,-1001 655,-813 158,-813"/>
</a>
</g>
</g>
<!-- ndSearchRules&#45;&gt;ndAuthFilter -->
<g id="edge2" class="edge"><title>ndSearchRules&#45;&gt;ndAuthFilter</title>
<path fill="none" stroke="black" d="M362.038,-808.836C348.711,-779.714 333.916,-747.38 319.926,-716.809"/>
<polygon fill="black" stroke="black" points="319.806,-716.547 313.672,-712.755 314.813,-705.635 320.947,-709.427 319.806,-716.547"/>
</g>
<!-- ndIndexSearchRules -->
<g id="node4" class="node"><title>ndIndexSearchRules</title>
<g id="a_node4_3"><a xlink:href="https://github.com/meilisearch/meilisearch//blob/master/src/lib.rs#:~:text=struct%20IndexSearchRules" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="142.5,-1116.5 142.5,-1153.5 384.5,-1153.5 384.5,-1116.5 142.5,-1116.5"/>
<polygon fill="none" stroke="black" points="142.5,-1116.5 142.5,-1153.5 384.5,-1153.5 384.5,-1116.5 142.5,-1116.5"/>
<text text-anchor="start" x="200" y="-1132.3" font-family="Arial" font-weight="bold" font-size="14.00">IndexSearchRules</text>
<polygon fill="white" stroke="none" points="142.5,-1079.5 142.5,-1116.5 384.5,-1116.5 384.5,-1079.5 142.5,-1079.5"/>
<polygon fill="none" stroke="black" points="142.5,-1079.5 142.5,-1116.5 384.5,-1116.5 384.5,-1079.5 142.5,-1079.5"/>
<text text-anchor="start" x="153.5" y="-1094.3" font-family="Arial" font-size="14.00">+ filter: Option&lt;serde_json::Value&gt;</text>
<polygon fill="none" stroke="black" points="141.5,-1078.5 141.5,-1154.5 385.5,-1154.5 385.5,-1078.5 141.5,-1078.5"/>
</a>
</g>
</g>
<!-- ndIndexSearchRules&#45;&gt;ndAuthFilter -->
<g id="edge3" class="edge"><title>ndIndexSearchRules&#45;&gt;ndAuthFilter</title>
<path fill="none" stroke="black" d="M198.414,-1074.25C175.673,-1056.06 152.775,-1032.53 140.5,-1005 105.024,-925.44 118.162,-893.198 140.5,-809 149.059,-776.737 163.705,-744.262 179.97,-714.659"/>
<polygon fill="black" stroke="black" points="185.064,-705.568 184.101,-716.491 182.62,-709.93 180.176,-714.292 180.176,-714.292 180.176,-714.292 182.62,-709.93 176.25,-712.092 185.064,-705.568 185.064,-705.568"/>
</g>
<!-- ndIndexSearchRules&#45;&gt;ndSearchRules -->
<g id="edge4" class="edge"><title>ndIndexSearchRules&#45;&gt;ndSearchRules</title>
<path fill="none" stroke="black" d="M292.094,-1074.01C303.915,-1056.86 318.219,-1036.1 332.651,-1015.16"/>
<polygon fill="black" stroke="black" points="332.698,-1015.09 332.809,-1007.88 339.508,-1005.21 339.396,-1012.42 332.698,-1015.09"/>
</g>
<!-- ndHeedAuthStore -->
<g id="node5" class="node"><title>ndHeedAuthStore</title>
<g id="a_node5_4"><a xlink:href="https://github.com/meilisearch/meilisearch//blob/master/src/store.rs#:~:text=struct%20HeedAuthStore" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="554.5,-730.5 554.5,-767.5 1334.5,-767.5 1334.5,-730.5 554.5,-730.5"/>
<polygon fill="none" stroke="black" points="554.5,-730.5 554.5,-767.5 1334.5,-767.5 1334.5,-730.5 554.5,-730.5"/>
<text text-anchor="start" x="891.5" y="-746.3" font-family="Arial" font-weight="bold" font-size="14.00">HeedAuthStore</text>
<polygon fill="white" stroke="none" points="554.5,-648.5 554.5,-730.5 1334.5,-730.5 1334.5,-648.5 554.5,-648.5"/>
<polygon fill="none" stroke="black" points="554.5,-648.5 554.5,-730.5 1334.5,-730.5 1334.5,-648.5 554.5,-648.5"/>
<text text-anchor="start" x="565.5" y="-708.3" font-family="Arial" font-size="14.00">&#45; env: Arc&lt;Env&gt;</text>
<text text-anchor="start" x="565.5" y="-693.3" font-family="Arial" font-size="14.00">&#45; keys: Database&lt;ByteSlice, SerdeJson&lt;Key&gt;&gt;</text>
<text text-anchor="start" x="565.5" y="-678.3" font-family="Arial" font-size="14.00">&#45; action_keyid_index_expiration: Database&lt;KeyIdActionCodec, SerdeJson&lt;Option&lt;OffsetDateTime&gt;&gt;&gt;</text>
<text text-anchor="start" x="565.5" y="-663.3" font-family="Arial" font-size="14.00">&#45; should_close_on_drop: bool</text>
<polygon fill="white" stroke="none" points="554.5,-416.5 554.5,-648.5 1334.5,-648.5 1334.5,-416.5 554.5,-416.5"/>
<polygon fill="none" stroke="black" points="554.5,-416.5 554.5,-648.5 1334.5,-648.5 1334.5,-416.5 554.5,-416.5"/>
<text text-anchor="start" x="565.5" y="-626.3" font-family="Arial" font-size="14.00">&#45; drop(&amp;mut self)</text>
<text text-anchor="start" x="565.5" y="-611.3" font-family="Arial" font-size="14.00">&#45; new(path: impl AsRef&lt;Path&gt;) &#45;&gt; Result&lt;Self&gt;</text>
<text text-anchor="start" x="565.5" y="-596.3" font-family="Arial" font-size="14.00">&#45; size(&amp;self) &#45;&gt; Result&lt;u64&gt;</text>
<text text-anchor="start" x="565.5" y="-581.3" font-family="Arial" font-size="14.00">&#45; set_drop_on_close(&amp;mut self, v: bool)</text>
<text text-anchor="start" x="565.5" y="-566.3" font-family="Arial" font-size="14.00">&#45; is_empty(&amp;self) &#45;&gt; Result&lt;bool&gt;</text>
<text text-anchor="start" x="565.5" y="-551.3" font-family="Arial" font-size="14.00">&#45; put_api_key(&amp;self, key: Key) &#45;&gt; Result&lt;Key&gt;</text>
<text text-anchor="start" x="565.5" y="-536.3" font-family="Arial" font-size="14.00">&#45; get_api_key(&amp;self, uid: Uuid) &#45;&gt; Result&lt;Option&lt;Key&gt;&gt;</text>
<text text-anchor="start" x="565.5" y="-521.3" font-family="Arial" font-size="14.00">&#45; get_uid_from_encoded_key(&amp;self, encoded_key: &amp;[u8], master_key: &amp;[u8]) &#45;&gt; Result&lt;Option&lt;Uuid&gt;&gt;</text>
<text text-anchor="start" x="565.5" y="-506.3" font-family="Arial" font-size="14.00">&#45; delete_api_key(&amp;self, uid: Uuid) &#45;&gt; Result&lt;bool&gt;</text>
<text text-anchor="start" x="565.5" y="-491.3" font-family="Arial" font-size="14.00">&#45; delete_all_keys(&amp;self) &#45;&gt; Result&lt;()&gt;</text>
<text text-anchor="start" x="565.5" y="-476.3" font-family="Arial" font-size="14.00">&#45; list_api_keys(&amp;self) &#45;&gt; Result&lt;Vec&lt;Key&gt;&gt;</text>
<text text-anchor="start" x="565.5" y="-461.3" font-family="Arial" font-size="14.00">&#45; get_expiration_date(&amp;self, uid: Uuid, action: Action, index: Option&lt;&amp;str&gt;) &#45;&gt; Result&lt;Option&lt;Option&lt;OffsetDateTime&gt;&gt;&gt;</text>
<text text-anchor="start" x="565.5" y="-446.3" font-family="Arial" font-size="14.00">&#45; prefix_first_expiration_date(&amp;self, uid: Uuid, action: Action) &#45;&gt; Result&lt;Option&lt;Option&lt;OffsetDateTime&gt;&gt;&gt;</text>
<text text-anchor="start" x="565.5" y="-431.3" font-family="Arial" font-size="14.00">&#45; delete_key_from_inverted_db(&amp;self, wtxn: &amp;mut RwTxn, key: &amp;KeyId) &#45;&gt; Result&lt;()&gt;</text>
<polygon fill="none" stroke="black" points="553.5,-416 553.5,-769 1335.5,-769 1335.5,-416 553.5,-416"/>
</a>
</g>
</g>
<!-- ndHeedAuthStore&#45;&gt;ndAuthController -->
<g id="edge5" class="edge"><title>ndHeedAuthStore&#45;&gt;ndAuthController</title>
<path fill="none" stroke="black" d="M792.201,-411.734C784.759,-402.95 777.271,-394.111 769.793,-385.284"/>
<polygon fill="black" stroke="black" points="769.764,-385.25 762.833,-383.257 762.007,-376.094 768.937,-378.086 769.764,-385.25"/>
</g>
<!-- ndAuthControllerError -->
<g id="node6" class="node"><title>ndAuthControllerError</title>
<g id="a_node6_5"><a xlink:href="https://github.com/meilisearch/meilisearch//blob/master/src/error.rs#:~:text=enum%20AuthControllerError" xlink:title="&lt;TABLE&gt;">
<polygon fill="yellow" stroke="none" points="420.5,-1149.5 420.5,-1186.5 746.5,-1186.5 746.5,-1149.5 420.5,-1149.5"/>
<polygon fill="none" stroke="black" points="420.5,-1149.5 420.5,-1186.5 746.5,-1186.5 746.5,-1149.5 420.5,-1149.5"/>
<text text-anchor="start" x="514" y="-1165.3" font-family="Arial" font-weight="bold" font-size="14.00">AuthControllerError</text>
<polygon fill="white" stroke="none" points="420.5,-1082.5 420.5,-1149.5 746.5,-1149.5 746.5,-1082.5 420.5,-1082.5"/>
<polygon fill="none" stroke="black" points="420.5,-1082.5 420.5,-1149.5 746.5,-1149.5 746.5,-1082.5 420.5,-1082.5"/>
<text text-anchor="start" x="431.5" y="-1127.3" font-family="Arial" font-size="14.00">ApiKeyNotFound(String)</text>
<text text-anchor="start" x="431.5" y="-1112.3" font-family="Arial" font-size="14.00">ApiKeyAlreadyExists(String)</text>
<text text-anchor="start" x="431.5" y="-1097.3" font-family="Arial" font-size="14.00">Internal(Box&lt;dyn Error + Send + Sync + &#39;static&gt;)</text>
<polygon fill="white" stroke="none" points="420.5,-1045.5 420.5,-1082.5 746.5,-1082.5 746.5,-1045.5 420.5,-1045.5"/>
<polygon fill="none" stroke="black" points="420.5,-1045.5 420.5,-1082.5 746.5,-1082.5 746.5,-1045.5 420.5,-1045.5"/>
<text text-anchor="start" x="431.5" y="-1060.3" font-family="Arial" font-size="14.00">&#45; error_code(&amp;self) &#45;&gt; Code</text>
<polygon fill="none" stroke="black" points="419.5,-1045 419.5,-1188 747.5,-1188 747.5,-1045 419.5,-1045"/>
</a>
</g>
</g>
</g>
</svg>
