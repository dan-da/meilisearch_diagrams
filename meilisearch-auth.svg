<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.38.0 (20140413.2041)
 -->
<!-- Title: ml Pages: 1 -->
<svg width="1201pt" height="1200pt"
 viewBox="0.00 0.00 1200.50 1200.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 1196)">
<title>ml</title>
<polygon fill="white" stroke="none" points="-4,4 -4,-1196 1196.5,-1196 1196.5,4 -4,4"/>
<!-- ndAuthController -->
<g id="node1" class="node"><title>ndAuthController</title>
<g id="a_node1_0"><a xlink:href="https://github.com/meilisearch/meilisearch//blob/master/src/lib.rs#:~:text=struct%20AuthController" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="218.5,-334 218.5,-371 826.5,-371 826.5,-334 218.5,-334"/>
<polygon fill="none" stroke="black" points="218.5,-334 218.5,-371 826.5,-371 826.5,-334 218.5,-334"/>
<text text-anchor="start" x="471" y="-349.8" font-family="Arial" font-weight="bold" font-size="14.00">AuthController</text>
<polygon fill="white" stroke="none" points="218.5,-282 218.5,-334 826.5,-334 826.5,-282 218.5,-282"/>
<polygon fill="none" stroke="black" points="218.5,-282 218.5,-334 826.5,-334 826.5,-282 218.5,-282"/>
<text text-anchor="start" x="229.5" y="-311.8" font-family="Arial" font-size="14.00">&#45; store: Arc&lt;HeedAuthStore&gt;</text>
<text text-anchor="start" x="229.5" y="-296.8" font-family="Arial" font-size="14.00">&#45; master_key: Option&lt;String&gt;</text>
<polygon fill="white" stroke="none" points="218.5,-5 218.5,-282 826.5,-282 826.5,-5 218.5,-5"/>
<polygon fill="none" stroke="black" points="218.5,-5 218.5,-282 826.5,-282 826.5,-5 218.5,-5"/>
<text text-anchor="start" x="229.5" y="-259.8" font-family="Arial" font-size="14.00">&#45; new(db_path: impl AsRef&lt;Path&gt;, master_key: &amp;Option&lt;String&gt;) &#45;&gt; Result&lt;Self&gt;</text>
<text text-anchor="start" x="229.5" y="-244.8" font-family="Arial" font-size="14.00">&#45; size(&amp;self) &#45;&gt; Result&lt;u64&gt;</text>
<text text-anchor="start" x="229.5" y="-229.8" font-family="Arial" font-size="14.00">&#45; create_key(&amp;self, create_key: CreateApiKey) &#45;&gt; Result&lt;Key&gt;</text>
<text text-anchor="start" x="229.5" y="-214.8" font-family="Arial" font-size="14.00">&#45; update_key(&amp;self, uid: Uuid, patch: PatchApiKey) &#45;&gt; Result&lt;Key&gt;</text>
<text text-anchor="start" x="229.5" y="-199.8" font-family="Arial" font-size="14.00">&#45; get_key(&amp;self, uid: Uuid) &#45;&gt; Result&lt;Key&gt;</text>
<text text-anchor="start" x="229.5" y="-184.8" font-family="Arial" font-size="14.00">&#45; get_optional_uid_from_encoded_key(&amp;self, encoded_key: &amp;[u8]) &#45;&gt; Result&lt;Option&lt;Uuid&gt;&gt;</text>
<text text-anchor="start" x="229.5" y="-169.8" font-family="Arial" font-size="14.00">&#45; get_uid_from_encoded_key(&amp;self, encoded_key: &amp;str) &#45;&gt; Result&lt;Uuid&gt;</text>
<text text-anchor="start" x="229.5" y="-154.8" font-family="Arial" font-size="14.00">&#45; get_key_filters(&amp;self, uid: Uuid, search_rules: Option&lt;SearchRules&gt;) &#45;&gt; Result&lt;AuthFilter&gt;</text>
<text text-anchor="start" x="229.5" y="-139.8" font-family="Arial" font-size="14.00">&#45; list_keys(&amp;self) &#45;&gt; Result&lt;Vec&lt;Key&gt;&gt;</text>
<text text-anchor="start" x="229.5" y="-124.8" font-family="Arial" font-size="14.00">&#45; delete_key(&amp;self, uid: Uuid) &#45;&gt; Result&lt;()&gt;</text>
<text text-anchor="start" x="229.5" y="-109.8" font-family="Arial" font-size="14.00">&#45; get_master_key(&amp;self) &#45;&gt; Option&lt;&amp;String&gt;</text>
<text text-anchor="start" x="229.5" y="-94.8" font-family="Arial" font-size="14.00">&#45; generate_key(&amp;self, uid: Uuid) &#45;&gt; Option&lt;String&gt;</text>
<text text-anchor="start" x="229.5" y="-79.8" font-family="Arial" font-size="14.00">&#45; is_key_authorized(&amp;self, uid: Uuid, action: Action, index: Option&lt;&amp;str&gt;) &#45;&gt; Result&lt;bool&gt;</text>
<text text-anchor="start" x="229.5" y="-64.8" font-family="Arial" font-size="14.00">&#45; raw_delete_all_keys(&amp;mut self) &#45;&gt; Result&lt;()&gt;</text>
<text text-anchor="start" x="229.5" y="-49.8" font-family="Arial" font-size="14.00">&#45; raw_insert_key(&amp;mut self, key: Key) &#45;&gt; Result&lt;()&gt;</text>
<text text-anchor="start" x="229.5" y="-34.8" font-family="Arial" font-size="14.00">&#45; dump(src: impl AsRef&lt;Path&gt;, dst: impl AsRef&lt;Path&gt;) &#45;&gt; Result&lt;()&gt;</text>
<text text-anchor="start" x="229.5" y="-19.8" font-family="Arial" font-size="14.00">&#45; load_dump(src: impl AsRef&lt;Path&gt;, dst: impl AsRef&lt;Path&gt;) &#45;&gt; Result&lt;()&gt;</text>
<polygon fill="none" stroke="black" points="217.5,-4 217.5,-372 827.5,-372 827.5,-4 217.5,-4"/>
</a>
</g>
</g>
<!-- ndAuthFilter -->
<g id="node2" class="node"><title>ndAuthFilter</title>
<g id="a_node2_1"><a xlink:href="https://github.com/meilisearch/meilisearch//blob/master/src/lib.rs#:~:text=struct%20AuthFilter" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="153.5,-618.5 153.5,-655.5 359.5,-655.5 359.5,-618.5 153.5,-618.5"/>
<polygon fill="none" stroke="black" points="153.5,-618.5 153.5,-655.5 359.5,-655.5 359.5,-618.5 153.5,-618.5"/>
<text text-anchor="start" x="222.5" y="-634.3" font-family="Arial" font-weight="bold" font-size="14.00">AuthFilter</text>
<polygon fill="white" stroke="none" points="153.5,-566.5 153.5,-618.5 359.5,-618.5 359.5,-566.5 153.5,-566.5"/>
<polygon fill="none" stroke="black" points="153.5,-566.5 153.5,-618.5 359.5,-618.5 359.5,-566.5 153.5,-566.5"/>
<text text-anchor="start" x="164.5" y="-596.3" font-family="Arial" font-size="14.00">+ search_rules: SearchRules</text>
<text text-anchor="start" x="164.5" y="-581.3" font-family="Arial" font-size="14.00">+ allow_index_creation: bool</text>
<polygon fill="white" stroke="none" points="153.5,-529.5 153.5,-566.5 359.5,-566.5 359.5,-529.5 153.5,-529.5"/>
<polygon fill="none" stroke="black" points="153.5,-529.5 153.5,-566.5 359.5,-566.5 359.5,-529.5 153.5,-529.5"/>
<text text-anchor="start" x="164.5" y="-544.3" font-family="Arial" font-size="14.00">&#45; default() &#45;&gt; Self</text>
<polygon fill="none" stroke="black" points="152.5,-528.5 152.5,-656.5 360.5,-656.5 360.5,-528.5 152.5,-528.5"/>
</a>
</g>
</g>
<!-- ndAuthFilter&#45;&gt;ndAuthController -->
<g id="edge1" class="edge"><title>ndAuthFilter&#45;&gt;ndAuthController</title>
<path fill="none" stroke="black" d="M301.022,-524.131C326.59,-485.442 360.142,-434.673 393.372,-384.392"/>
<polygon fill="black" stroke="black" points="398.917,-376.001 397.158,-386.825 396.16,-380.172 393.403,-384.344 393.403,-384.344 393.403,-384.344 396.16,-380.172 389.649,-381.863 398.917,-376.001 398.917,-376.001"/>
</g>
<!-- ndSearchRules -->
<g id="node3" class="node"><title>ndSearchRules</title>
<g id="a_node3_2"><a xlink:href="https://github.com/meilisearch/meilisearch//blob/master/src/lib.rs#:~:text=enum%20SearchRules" xlink:title="&lt;TABLE&gt;">
<polygon fill="yellow" stroke="none" points="9.5,-963 9.5,-1000 504.5,-1000 504.5,-963 9.5,-963"/>
<polygon fill="none" stroke="black" points="9.5,-963 9.5,-1000 504.5,-1000 504.5,-963 9.5,-963"/>
<text text-anchor="start" x="212.5" y="-978.8" font-family="Arial" font-weight="bold" font-size="14.00">SearchRules</text>
<polygon fill="white" stroke="none" points="9.5,-911 9.5,-963 504.5,-963 504.5,-911 9.5,-911"/>
<polygon fill="none" stroke="black" points="9.5,-911 9.5,-963 504.5,-963 504.5,-911 9.5,-911"/>
<text text-anchor="start" x="20.5" y="-940.8" font-family="Arial" font-size="14.00">Set(HashSet&lt;String&gt;)</text>
<text text-anchor="start" x="20.5" y="-925.8" font-family="Arial" font-size="14.00">Map(HashMap&lt;String, Option&lt;IndexSearchRules&gt;&gt;)</text>
<polygon fill="white" stroke="none" points="9.5,-814 9.5,-911 504.5,-911 504.5,-814 9.5,-814"/>
<polygon fill="none" stroke="black" points="9.5,-814 9.5,-911 504.5,-911 504.5,-814 9.5,-814"/>
<text text-anchor="start" x="20.5" y="-888.8" font-family="Arial" font-size="14.00">&#45; default() &#45;&gt; Self</text>
<text text-anchor="start" x="20.5" y="-873.8" font-family="Arial" font-size="14.00">&#45; is_index_authorized(&amp;self, index: &amp;str) &#45;&gt; bool</text>
<text text-anchor="start" x="20.5" y="-858.8" font-family="Arial" font-size="14.00">&#45; get_index_search_rules(&amp;self, index: &amp;str) &#45;&gt; Option&lt;IndexSearchRules&gt;</text>
<text text-anchor="start" x="20.5" y="-843.8" font-family="Arial" font-size="14.00">&#45; authorized_indexes(&amp;self) &#45;&gt; Option&lt;Vec&lt;String&gt;&gt;</text>
<text text-anchor="start" x="20.5" y="-828.8" font-family="Arial" font-size="14.00">&#45; into_iter(self) &#45;&gt; Self::IntoIter</text>
<polygon fill="none" stroke="black" points="8,-813 8,-1001 505,-1001 505,-813 8,-813"/>
</a>
</g>
</g>
<!-- ndSearchRules&#45;&gt;ndAuthFilter -->
<g id="edge2" class="edge"><title>ndSearchRules&#45;&gt;ndAuthFilter</title>
<path fill="none" stroke="black" d="M256.5,-808.836C256.5,-765.226 256.5,-714.415 256.5,-673.105"/>
<polygon fill="black" stroke="black" points="256.5,-672.887 252.5,-666.887 256.5,-660.887 260.5,-666.887 256.5,-672.887"/>
</g>
<!-- ndIndexSearchRules -->
<g id="node4" class="node"><title>ndIndexSearchRules</title>
<g id="a_node4_3"><a xlink:href="https://github.com/meilisearch/meilisearch//blob/master/src/lib.rs#:~:text=struct%20IndexSearchRules" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="135.5,-1116.5 135.5,-1153.5 377.5,-1153.5 377.5,-1116.5 135.5,-1116.5"/>
<polygon fill="none" stroke="black" points="135.5,-1116.5 135.5,-1153.5 377.5,-1153.5 377.5,-1116.5 135.5,-1116.5"/>
<text text-anchor="start" x="193" y="-1132.3" font-family="Arial" font-weight="bold" font-size="14.00">IndexSearchRules</text>
<polygon fill="white" stroke="none" points="135.5,-1079.5 135.5,-1116.5 377.5,-1116.5 377.5,-1079.5 135.5,-1079.5"/>
<polygon fill="none" stroke="black" points="135.5,-1079.5 135.5,-1116.5 377.5,-1116.5 377.5,-1079.5 135.5,-1079.5"/>
<text text-anchor="start" x="146.5" y="-1094.3" font-family="Arial" font-size="14.00">+ filter: Option&lt;serde_json::Value&gt;</text>
<polygon fill="none" stroke="black" points="134.5,-1078.5 134.5,-1154.5 378.5,-1154.5 378.5,-1078.5 134.5,-1078.5"/>
</a>
</g>
</g>
<!-- ndIndexSearchRules&#45;&gt;ndSearchRules -->
<g id="edge3" class="edge"><title>ndIndexSearchRules&#45;&gt;ndSearchRules</title>
<path fill="none" stroke="black" d="M256.5,-1074.01C256.5,-1057.48 256.5,-1037.6 256.5,-1017.43"/>
<polygon fill="black" stroke="black" points="256.5,-1017.21 252.5,-1011.21 256.5,-1005.21 260.5,-1011.21 256.5,-1017.21"/>
</g>
<!-- ndHeedAuthStore -->
<g id="node5" class="node"><title>ndHeedAuthStore</title>
<g id="a_node5_4"><a xlink:href="https://github.com/meilisearch/meilisearch//blob/master/src/store.rs#:~:text=struct%20HeedAuthStore" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="395.5,-730.5 395.5,-767.5 1183.5,-767.5 1183.5,-730.5 395.5,-730.5"/>
<polygon fill="none" stroke="black" points="395.5,-730.5 395.5,-767.5 1183.5,-767.5 1183.5,-730.5 395.5,-730.5"/>
<text text-anchor="start" x="736.5" y="-746.3" font-family="Arial" font-weight="bold" font-size="14.00">HeedAuthStore</text>
<polygon fill="white" stroke="none" points="395.5,-648.5 395.5,-730.5 1183.5,-730.5 1183.5,-648.5 395.5,-648.5"/>
<polygon fill="none" stroke="black" points="395.5,-648.5 395.5,-730.5 1183.5,-730.5 1183.5,-648.5 395.5,-648.5"/>
<text text-anchor="start" x="406.5" y="-708.3" font-family="Arial" font-size="14.00">&#45; env: Arc&lt;Env&gt;</text>
<text text-anchor="start" x="406.5" y="-693.3" font-family="Arial" font-size="14.00">&#45; keys: Database&lt;ByteSlice, SerdeJson&lt;Key&gt;&gt;</text>
<text text-anchor="start" x="406.5" y="-678.3" font-family="Arial" font-size="14.00">&#45; action_keyid_index_expiration: Database&lt;KeyIdActionCodec, SerdeJson&lt;Option&lt;OffsetDateTime&gt;&gt;&gt;</text>
<text text-anchor="start" x="406.5" y="-663.3" font-family="Arial" font-size="14.00">&#45; should_close_on_drop: bool</text>
<polygon fill="white" stroke="none" points="395.5,-416.5 395.5,-648.5 1183.5,-648.5 1183.5,-416.5 395.5,-416.5"/>
<polygon fill="none" stroke="black" points="395.5,-416.5 395.5,-648.5 1183.5,-648.5 1183.5,-416.5 395.5,-416.5"/>
<text text-anchor="start" x="406.5" y="-626.3" font-family="Arial" font-size="14.00">&#45; drop(&amp;mut self)</text>
<text text-anchor="start" x="406.5" y="-611.3" font-family="Arial" font-size="14.00">&#45; new(path: impl AsRef&lt;Path&gt;) &#45;&gt; Result&lt;Self&gt;</text>
<text text-anchor="start" x="406.5" y="-596.3" font-family="Arial" font-size="14.00">&#45; size(&amp;self) &#45;&gt; Result&lt;u64&gt;</text>
<text text-anchor="start" x="406.5" y="-581.3" font-family="Arial" font-size="14.00">&#45; set_drop_on_close(&amp;mut self, v: bool)</text>
<text text-anchor="start" x="406.5" y="-566.3" font-family="Arial" font-size="14.00">&#45; is_empty(&amp;self) &#45;&gt; Result&lt;bool&gt;</text>
<text text-anchor="start" x="406.5" y="-551.3" font-family="Arial" font-size="14.00">&#45; put_api_key(&amp;self, key: Key) &#45;&gt; Result&lt;Key&gt;</text>
<text text-anchor="start" x="406.5" y="-536.3" font-family="Arial" font-size="14.00">&#45; get_api_key(&amp;self, uid: Uuid) &#45;&gt; Result&lt;Option&lt;Key&gt;&gt;</text>
<text text-anchor="start" x="406.5" y="-521.3" font-family="Arial" font-size="14.00">&#45; get_uid_from_encoded_key(&amp;self, encoded_key: &amp;[u8], master_key: &amp;[u8]) &#45;&gt; Result&lt;Option&lt;Uuid&gt;&gt;</text>
<text text-anchor="start" x="406.5" y="-506.3" font-family="Arial" font-size="14.00">&#45; delete_api_key(&amp;self, uid: Uuid) &#45;&gt; Result&lt;bool&gt;</text>
<text text-anchor="start" x="406.5" y="-491.3" font-family="Arial" font-size="14.00">&#45; delete_all_keys(&amp;self) &#45;&gt; Result&lt;()&gt;</text>
<text text-anchor="start" x="406.5" y="-476.3" font-family="Arial" font-size="14.00">&#45; list_api_keys(&amp;self) &#45;&gt; Result&lt;Vec&lt;Key&gt;&gt;</text>
<text text-anchor="start" x="406.5" y="-461.3" font-family="Arial" font-size="14.00">&#45; get_expiration_date(&amp;self, uid: Uuid, action: Action, index: Option&lt;&amp;[u8]&gt;) &#45;&gt; Result&lt;Option&lt;Option&lt;OffsetDateTime&gt;&gt;&gt;</text>
<text text-anchor="start" x="406.5" y="-446.3" font-family="Arial" font-size="14.00">&#45; prefix_first_expiration_date(&amp;self, uid: Uuid, action: Action) &#45;&gt; Result&lt;Option&lt;Option&lt;OffsetDateTime&gt;&gt;&gt;</text>
<text text-anchor="start" x="406.5" y="-431.3" font-family="Arial" font-size="14.00">&#45; delete_key_from_inverted_db(&amp;self, wtxn: &amp;mut RwTxn, key: &amp;KeyId) &#45;&gt; Result&lt;()&gt;</text>
<polygon fill="none" stroke="black" points="394.5,-416 394.5,-769 1184.5,-769 1184.5,-416 394.5,-416"/>
</a>
</g>
</g>
<!-- ndHeedAuthStore&#45;&gt;ndAuthController -->
<g id="edge4" class="edge"><title>ndHeedAuthStore&#45;&gt;ndAuthController</title>
<path fill="none" stroke="black" d="M670.251,-411.734C664.609,-403.227 658.931,-394.669 653.261,-386.12"/>
<polygon fill="black" stroke="black" points="653.243,-386.093 646.593,-383.305 646.609,-376.094 653.259,-378.882 653.243,-386.093"/>
</g>
<!-- ndAuthControllerError -->
<g id="node6" class="node"><title>ndAuthControllerError</title>
<g id="a_node6_5"><a xlink:href="https://github.com/meilisearch/meilisearch//blob/master/src/error.rs#:~:text=enum%20AuthControllerError" xlink:title="&lt;TABLE&gt;">
<polygon fill="yellow" stroke="none" points="413.5,-1149.5 413.5,-1186.5 739.5,-1186.5 739.5,-1149.5 413.5,-1149.5"/>
<polygon fill="none" stroke="black" points="413.5,-1149.5 413.5,-1186.5 739.5,-1186.5 739.5,-1149.5 413.5,-1149.5"/>
<text text-anchor="start" x="507" y="-1165.3" font-family="Arial" font-weight="bold" font-size="14.00">AuthControllerError</text>
<polygon fill="white" stroke="none" points="413.5,-1082.5 413.5,-1149.5 739.5,-1149.5 739.5,-1082.5 413.5,-1082.5"/>
<polygon fill="none" stroke="black" points="413.5,-1082.5 413.5,-1149.5 739.5,-1149.5 739.5,-1082.5 413.5,-1082.5"/>
<text text-anchor="start" x="424.5" y="-1127.3" font-family="Arial" font-size="14.00">ApiKeyNotFound(String)</text>
<text text-anchor="start" x="424.5" y="-1112.3" font-family="Arial" font-size="14.00">ApiKeyAlreadyExists(String)</text>
<text text-anchor="start" x="424.5" y="-1097.3" font-family="Arial" font-size="14.00">Internal(Box&lt;dyn Error + Send + Sync + &#39;static&gt;)</text>
<polygon fill="white" stroke="none" points="413.5,-1045.5 413.5,-1082.5 739.5,-1082.5 739.5,-1045.5 413.5,-1045.5"/>
<polygon fill="none" stroke="black" points="413.5,-1045.5 413.5,-1082.5 739.5,-1082.5 739.5,-1045.5 413.5,-1045.5"/>
<text text-anchor="start" x="424.5" y="-1060.3" font-family="Arial" font-size="14.00">&#45; error_code(&amp;self) &#45;&gt; Code</text>
<polygon fill="none" stroke="black" points="412.5,-1045 412.5,-1188 740.5,-1188 740.5,-1045 412.5,-1045"/>
</a>
</g>
</g>
</g>
</svg>
